/*! For license information please see main.139344bd.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,F=Object.assign;function j(e){if(void 0===O)try{throw Error()}catch(Se){var t=Se.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var V=!1;function B(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(ye){var r=ye}Reflect.construct(e,[],t)}else{try{t.call()}catch(ye){r=ye}e.call(t.prototype)}else{try{throw Error()}catch(ye){r=ye}e()}}catch(ye){if(ye&&r&&"string"===typeof ye.stack){for(var i=ye.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(Se){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Te=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,Ie=null,De=null;function Ne(e){if(e=_i(e)){if("function"!==typeof Pe)throw Error(s(280));var t=e.stateNode;t&&(t=Ai(t),Pe(e.stateNode,e.type,t))}}function Re(e){Ie?De?De.push(e):De=[e]:Ie=e}function Le(){if(Ie){var e=Ie,t=De;if(De=Ie=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Me(e,t){return e(t)}function Oe(){}var Fe=!1;function je(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,(null!==Ie||null!==De)&&(Oe(),Le())}}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=Ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(c)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(we){Be=!1}function ze(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var $e=!1,He=null,qe=!1,We=null,Ke={onError:function(e){$e=!0,He=e}};function Ge(e,t,n,r,i,s,o,a,l){$e=!1,He=null,ze.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(s(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var et=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,nt=i.unstable_shouldYield,rt=i.unstable_requestPaint,it=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,ot=i.unstable_ImmediatePriority,at=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,ut=i.unstable_LowPriority,ht=i.unstable_IdlePriority,dt=null,ft=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(mt(e)/gt|0)|0},mt=Math.log,gt=Math.LN2;var vt=64,yt=4194304;function wt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=wt(a):0!==(s&=o)&&(r=wt(s))}else 0!==(o=n&~i)?r=wt(o):0!==s&&(r=wt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-pt(t)),r|=e[n],t&=~i;return r}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function St(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Et(){var e=vt;return 0===(4194240&(vt<<=1))&&(vt=64),e}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function kt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function Pt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var At,It,Dt,Nt,Rt,Lt=!1,Mt=[],Ot=null,Ft=null,jt=null,Vt=new Map,Bt=new Map,Ut=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Vt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Ht(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=ki(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void Rt(e.priority,(function(){Dt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Te=r,n.target.dispatchEvent(r),Te=null,t.shift()}return!0}function Kt(e,t,n){Wt(e)&&n.delete(t)}function Gt(){Lt=!1,null!==Ot&&Wt(Ot)&&(Ot=null),null!==Ft&&Wt(Ft)&&(Ft=null),null!==jt&&Wt(jt)&&(jt=null),Vt.forEach(Kt),Bt.forEach(Kt)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Gt)))}function Yt(e){function t(t){return Qt(t,e)}if(0<Mt.length){Qt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Qt(Ot,e),null!==Ft&&Qt(Ft,e),null!==jt&&Qt(jt,e),Vt.forEach(t),Bt.forEach(t),n=0;n<Ut.length;n++)(r=Ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&null===(n=Ut[0]).blockedOn;)qt(n),null===n.blockedOn&&Ut.shift()}var Xt=b.ReactCurrentBatchConfig,Jt=!0;function Zt(e,t,n,r){var i=_t,s=Xt.transition;Xt.transition=null;try{_t=1,tn(e,t,n,r)}finally{_t=i,Xt.transition=s}}function en(e,t,n,r){var i=_t,s=Xt.transition;Xt.transition=null;try{_t=4,tn(e,t,n,r)}finally{_t=i,Xt.transition=s}}function tn(e,t,n,r){if(Jt){var i=rn(e,t,n,r);if(null===i)Jr(e,t,r,nn,n),$t(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Ht(Ot,e,t,n,r,i),!0;case"dragenter":return Ft=Ht(Ft,e,t,n,r,i),!0;case"mouseover":return jt=Ht(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vt.set(s,Ht(Vt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bt.set(s,Ht(Bt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if($t(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&At(s),null===(s=rn(e,t,n,r))&&Jr(e,t,r,nn,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Jr(e,t,r,null,n)}}var nn=null;function rn(e,t,n,r){if(nn=null,null!==(e=ki(e=Ce(r))))if(null===(t=Qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case ot:return 1;case at:return 4;case lt:case ut:return 16;case ht:return 536870912;default:return 16}default:return 16}}var on=null,an=null,ln=null;function un(){if(ln)return ln;var e,t,n=an,r=n.length,i="value"in on?on.value:on.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return ln=i.slice(e,1<t?1-t:void 0)}function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hn(){return!0}function dn(){return!1}function fn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?hn:dn,this.isPropagationStopped=dn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var pn,mn,gn,vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yn=fn(vn),wn=F({},vn,{view:0,detail:0}),bn=fn(wn),xn=F({},wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(pn=e.screenX-gn.screenX,mn=e.screenY-gn.screenY):mn=pn=0,gn=e),pn)},movementY:function(e){return"movementY"in e?e.movementY:mn}}),Sn=fn(xn),En=fn(F({},xn,{dataTransfer:0})),Tn=fn(F({},wn,{relatedTarget:0})),Cn=fn(F({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=F({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=fn(kn),Pn=fn(F({},vn,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dn[e])&&!!t[e]}function Rn(){return Nn}var Ln=F({},wn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=fn(Ln),On=fn(F({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=fn(F({},wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),jn=fn(F({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vn=F({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=fn(Vn),Un=[9,13,27,32],zn=c&&"CompositionEvent"in window,$n=null;c&&"documentMode"in document&&($n=document.documentMode);var Hn=c&&"TextEvent"in window&&!$n,qn=c&&(!zn||$n&&8<$n&&11>=$n),Wn=String.fromCharCode(32),Kn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function Zn(e,t,n,r){Re(r),0<(t=ei(t,"onChange")).length&&(n=new yn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var er=null,tr=null;function nr(e){Wr(e,0)}function rr(e){if(K(Pi(e)))return e}function ir(e,t){if("change"===e)return t}var sr=!1;if(c){var or;if(c){var ar="oninput"in document;if(!ar){var lr=document.createElement("div");lr.setAttribute("oninput","return;"),ar="function"===typeof lr.oninput}or=ar}else or=!1;sr=or&&(!document.documentMode||9<document.documentMode)}function ur(){er&&(er.detachEvent("onpropertychange",cr),tr=er=null)}function cr(e){if("value"===e.propertyName&&rr(tr)){var t=[];Zn(t,tr,e,Ce(e)),je(nr,t)}}function hr(e,t,n){"focusin"===e?(ur(),tr=n,(er=t).attachEvent("onpropertychange",cr)):"focusout"===e&&ur()}function dr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rr(tr)}function fr(e,t){if("click"===e)return rr(t)}function pr(e,t){if("input"===e||"change"===e)return rr(t)}var mr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gr(e,t){if(mr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function vr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yr(e,t){var n,r=vr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vr(r)}}function wr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function br(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(ke){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sr(e){var t=br(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wr(n.ownerDocument.documentElement,n)){if(null!==r&&xr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=yr(n,s);var o=yr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Er=c&&"documentMode"in document&&11>=document.documentMode,Tr=null,Cr=null,kr=null,_r=!1;function Pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==Tr||Tr!==G(r)||("selectionStart"in(r=Tr)&&xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&gr(kr,r)||(kr=r,0<(r=ei(Cr,"onSelect")).length&&(t=new yn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tr)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionend:Ar("Transition","TransitionEnd")},Dr={},Nr={};function Rr(e){if(Dr[e])return Dr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Dr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Lr=Rr("animationend"),Mr=Rr("animationiteration"),Or=Rr("animationstart"),Fr=Rr("transitionend"),jr=new Map,Vr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){jr.set(e,t),l(t,[e])}for(var Ur=0;Ur<Vr.length;Ur++){var zr=Vr[Ur];Br(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Br(Lr,"onAnimationEnd"),Br(Mr,"onAnimationIteration"),Br(Or,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Fr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hr=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ge.apply(this,arguments),$e){if(!$e)throw Error(s(198));var c=He;$e=!1,He=null,qe||(qe=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Wr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;qr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;qr(i,a,u),s=l}}}if(qe)throw e=We,qe=!1,We=null,e}function Kr(e,t){var n=t[Ei];void 0===n&&(n=t[Ei]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Gr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Qr]){e[Qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Hr.has(t)||Gr(t,!1,e),Gr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Gr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(sn(t)){case 1:var i=Zt;break;case 4:i=en;break;default:i=tn}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ki(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=Ce(n),o=[];e:{var a=jr.get(e);if(void 0!==a){var l=yn,u=e;switch(e){case"keypress":if(0===cn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=Tn;break;case"focusout":u="blur",l=Tn;break;case"beforeblur":case"afterblur":l=Tn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Lr:case Mr:case Or:l=Cn;break;case Fr:l=jn;break;case"scroll":l=bn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ve(p,d))&&c.push(Zr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Te||!(u=n.relatedTarget||n.fromElement)||!ki(u)&&!u[Si])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ki(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=Sn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Pi(l),f=null==u?a:Pi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ki(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=ti(f))p++;for(f=0,m=d;m;m=ti(m))f++;for(;0<p-f;)c=ti(c),p--;for(;0<f-p;)d=ti(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=ti(c),d=ti(d)}c=null}else c=null;null!==l&&ni(o,a,l,c,!1),null!==u&&null!==h&&ni(o,h,u,c,!0)}if("select"===(l=(a=r?Pi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=ir;else if(Jn(a))if(sr)g=pr;else{g=dr;var v=hr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=fr);switch(g&&(g=g(e,r))?Zn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?Pi(r):window,e){case"focusin":(Jn(v)||"true"===v.contentEditable)&&(Tr=v,Cr=r,kr=null);break;case"focusout":kr=Cr=Tr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Pr(o,n,i);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":Pr(o,n,i)}var y;if(zn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Yn?Gn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(qn&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Yn&&(y=un()):(an="value"in(on=i)?on.value:on.textContent,Yn=!0)),0<(v=ei(r,w)).length&&(w=new Pn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Qn(n))&&(w.data=y))),(y=Hn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Kn=!0,Wn);case"textInput":return(e=t.data)===Wn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!zn&&Gn(e,t)?(e=un(),ln=an=on=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ei(r,"onBeforeInput")).length&&(i=new Pn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Wr(o,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Zr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Zr(e,s,i))),e=e.return}return r}function ti(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ni(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,s))&&o.unshift(Zr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Zr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var ri=/\r\n?/g,ii=/\u0000|\uFFFD/g;function si(e){return("string"===typeof e?e:""+e).replace(ri,"\n").replace(ii,"")}function oi(e,t,n){if(t=si(t),si(e)!==t&&n)throw Error(s(425))}function ai(){}var li=null,ui=null;function ci(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,di="function"===typeof clearTimeout?clearTimeout:void 0,fi="function"===typeof Promise?Promise:void 0,pi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fi?function(e){return fi.resolve(null).then(e).catch(mi)}:hi;function mi(e){setTimeout((function(){throw e}))}function gi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Yt(t)}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function yi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),bi="__reactFiber$"+wi,xi="__reactProps$"+wi,Si="__reactContainer$"+wi,Ei="__reactEvents$"+wi,Ti="__reactListeners$"+wi,Ci="__reactHandles$"+wi;function ki(e){var t=e[bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Si]||n[bi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yi(e);null!==e;){if(n=e[bi])return n;e=yi(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[bi]||e[Si])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ai(e){return e[xi]||null}var Ii=[],Di=-1;function Ni(e){return{current:e}}function Ri(e){0>Di||(e.current=Ii[Di],Ii[Di]=null,Di--)}function Li(e,t){Di++,Ii[Di]=e.current,e.current=t}var Mi={},Oi=Ni(Mi),Fi=Ni(!1),ji=Mi;function Vi(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ui(){Ri(Fi),Ri(Oi)}function zi(e,t,n){if(Oi.current!==Mi)throw Error(s(168));Li(Oi,t),Li(Fi,n)}function $i(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return F({},n,r)}function Hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,ji=Oi.current,Li(Oi,e),Li(Fi,Fi.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=$i(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ri(Fi),Ri(Oi),Li(Oi,e)):Ri(Fi),Li(Fi,n)}var Wi=null,Ki=!1,Gi=!1;function Qi(e){null===Wi?Wi=[e]:Wi.push(e)}function Yi(){if(!Gi&&null!==Wi){Gi=!0;var e=0,t=_t;try{var n=Wi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Wi=null,Ki=!1}catch(ge){throw null!==Wi&&(Wi=Wi.slice(e+1)),et(ot,Yi),ge}finally{_t=t,Gi=!1}}return null}var Xi=[],Ji=0,Zi=null,es=0,ts=[],ns=0,rs=null,is=1,ss="";function os(e,t){Xi[Ji++]=es,Xi[Ji++]=Zi,Zi=e,es=t}function as(e,t,n){ts[ns++]=is,ts[ns++]=ss,ts[ns++]=rs,rs=e;var r=is;e=ss;var i=32-pt(r)-1;r&=~(1<<i),n+=1;var s=32-pt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,is=1<<32-pt(t)+i|n<<i|r,ss=s+e}else is=1<<s|n<<i|r,ss=e}function ls(e){null!==e.return&&(os(e,1),as(e,1,0))}function us(e){for(;e===Zi;)Zi=Xi[--Ji],Xi[Ji]=null,es=Xi[--Ji],Xi[Ji]=null;for(;e===rs;)rs=ts[--ns],ts[ns]=null,ss=ts[--ns],ts[ns]=null,is=ts[--ns],ts[ns]=null}var cs=null,hs=null,ds=!1,fs=null;function ps(e,t){var n=Vu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ms(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,cs=e,hs=vi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,cs=e,hs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==rs?{id:is,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Vu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,cs=e,hs=null,!0);default:return!1}}function gs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vs(e){if(ds){var t=hs;if(t){var n=t;if(!ms(e,t)){if(gs(e))throw Error(s(418));t=vi(n.nextSibling);var r=cs;t&&ms(e,t)?ps(r,n):(e.flags=-4097&e.flags|2,ds=!1,cs=e)}}else{if(gs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ds=!1,cs=e}}}function ys(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;cs=e}function ws(e){if(e!==cs)return!1;if(!ds)return ys(e),ds=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ci(e.type,e.memoizedProps)),t&&(t=hs)){if(gs(e))throw bs(),Error(s(418));for(;t;)ps(e,t),t=vi(t.nextSibling)}if(ys(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){hs=vi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}hs=null}}else hs=cs?vi(e.stateNode.nextSibling):null;return!0}function bs(){for(var e=hs;e;)e=vi(e.nextSibling)}function xs(){hs=cs=null,ds=!1}function Ss(e){null===fs?fs=[e]:fs.push(e)}var Es=b.ReactCurrentBatchConfig;function Ts(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ks(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&ks(s)===t.type)?((r=i(t,n.props)).ref=Ts(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=Ts(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=$u(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=Ts(e,null,t),n.return=e,n;case S:return(t=Wu(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=$u(t,e.mode,n,null)).return=e,t;Cs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Cs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Cs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),ds&&os(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return ds&&os(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),ds&&os(i,m),u}function g(i,a,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),ds&&os(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return ds&&os(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),ds&&os(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===E){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&ks(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=Ts(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((s=$u(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=zu(o.type,o.key,o.props,null,r.mode,l)).ref=Ts(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Wu(o,r.mode,l)).return=r,r=s}return a(r);case N:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);Cs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=qu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Ps=_s(!0),As=_s(!1),Is=Ni(null),Ds=null,Ns=null,Rs=null;function Ls(){Rs=Ns=Ds=null}function Ms(e){var t=Is.current;Ri(Is),e._currentValue=t}function Os(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Ds=e,Rs=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Rs!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===Ds)throw Error(s(308));Ns=e,Ds.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Vs=null;function Bs(e){null===Vs?Vs=[e]:Vs.push(e)}function Us(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Bs(t)):(n.next=i.next,i.next=n),t.interleaved=n,zs(e,r)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var $s=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zs(e,n)}return null===(i=r.interleaved)?(t.next=t,Bs(r)):(t.next=i.next,i.next=t),r.interleaved=t,zs(e,n)}function Gs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}function Qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var i=e.updateQueue;$s=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:$s=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Hl|=o,e.lanes=o,e.memoizedState=h}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Js={},Zs=Ni(Js),eo=Ni(Js),to=Ni(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(Li(to,t),Li(eo,e),Li(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ri(Zs),Li(Zs,t)}function io(){Ri(Zs),Ri(eo),Ri(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Li(eo,e),Li(Zs,n))}function oo(e){eo.current===e&&(Ri(Zs),Ri(eo))}var ao=Ni(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,xo=0;function So(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ua,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function Co(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function _o(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Po(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,mo.lanes|=h,Hl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,mr(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Hl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);mr(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function No(e,t){var n=mo,r=_o(),i=t(),o=!mr(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Vo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Oo(t)&&Fo(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch(ke){return!0}}function Fo(e){var t=zs(e,1);null!==t&&cu(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return _o().memoizedState}function Uo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,s,r))}mo.flags|=e,i.memoizedState=Vo(1|t,n,s,r)}function $o(e,t){return Uo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function qo(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(mr(n,t)||(n=Et(),mo.lanes|=n,Hl|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function ea(){return _o().memoizedState}function ta(e,t,n){var r=uu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Us(e,t,n,r))){cu(n,e,r,lu()),sa(n,t,r)}}function na(e,t,n){var r=uu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Bs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(ye){}null!==(n=Us(e,t,i,r))&&(cu(n,e,r,i=lu()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,kt(e,n)}}var oa={readContext:js,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:js,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:$o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(ds){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fl)throw Error(s(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,$o(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Fl.identifierPrefix;if(ds){var n=ss;t=":"+t+"R"+(n=(is&~(1<<32-pt(is)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:js,useCallback:Yo,useContext:js,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Xo,useReducer:Ao,useRef:Bo,useState:function(){return Ao(Po)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(_o(),go.memoizedState,e)},useTransition:function(){return[Ao(Po)[0],_o().memoizedState]},useMutableSource:Do,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1},ua={readContext:js,useCallback:Yo,useContext:js,useEffect:Ho,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Xo,useReducer:Io,useRef:Bo,useState:function(){return Io(Po)},useDebugValue:Qo,useDeferredValue:function(e){var t=_o();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Io(Po)[0],_o().memoizedState]},useMutableSource:Do,useSyncExternalStore:No,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=uu(e),s=Ws(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(cu(t,e,i,r),Gs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=uu(e),s=Ws(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ks(e,s,i))&&(cu(t,e,i,r),Gs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=uu(e),i=Ws(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ks(e,i,r))&&(cu(t,e,r,n),Gs(t,e,r))}};function fa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!gr(n,r)||!gr(i,s))}function pa(e,t,n){var r=!1,i=Mi,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Bi(t)?ji:Oi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Vi(e,i):Mi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Hs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Bi(t)?ji:Oi.current,i.context=Vi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ha(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),Ys(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function va(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(_e){i="\nError generating stack: "+_e.message+"\n"+_e.stack}return{value:e,source:t,stack:i,digest:null}}function ya(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function wa(e,t){try{console.error(t.value)}catch(Se){setTimeout((function(){throw Se}))}}var ba="function"===typeof WeakMap?WeakMap:Map;function xa(e,t,n){(n=Ws(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Jl||(Jl=!0,Zl=r),wa(0,t)},n}function Sa(e,t,n){(n=Ws(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wa(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){wa(0,t),"function"!==typeof r&&(null===eu?eu=new Set([this]):eu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ea(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ba;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ru.bind(null,e,t,n),t.then(e,e))}function Ta(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ca(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ws(-1,1)).tag=2,Ks(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ka=b.ReactCurrentOwner,_a=!1;function Pa(e,t,n,r){t.child=null===e?As(t,null,n,r):Ps(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var s=t.ref;return Fs(t,i),r=To(e,t,n,r,s,i),n=Co(),null===e||_a?(ds&&n&&ls(t),t.flags|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ja(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Da(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:gr)(o,r)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=Uu(s,r)).ref=t.ref,e.return=t,t.child=e}function Da(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(gr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ja(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return La(e,t,n,r,i)}function Na(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Li(Ul,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Li(Ul,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Li(Ul,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Li(Ul,Bl),Bl|=r;return Pa(e,t,i,n),t.child}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,i){var s=Bi(n)?ji:Oi.current;return s=Vi(t,s),Fs(t,i),n=To(e,t,n,r,s,i),r=Co(),null===e||_a?(ds&&r&&ls(t),t.flags|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ja(e,t,i))}function Ma(e,t,n,r,i){if(Bi(n)){var s=!0;Hi(t)}else s=!1;if(Fs(t,i),null===t.stateNode)Xa(e,t),pa(t,n,r),ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=js(u):u=Vi(t,u=Bi(n)?ji:Oi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ma(t,o,r,u),$s=!1;var d=t.memoizedState;o.state=d,Ys(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Fi.current||$s?("function"===typeof c&&(ha(t,n,c,r),l=t.memoizedState),(a=$s||fa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,qs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ca(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Vi(t,l=Bi(n)?ji:Oi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ma(t,o,r,l),$s=!1,d=t.memoizedState,o.state=d,Ys(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Fi.current||$s?("function"===typeof f&&(ha(t,n,f,r),p=t.memoizedState),(u=$s||fa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,s,i)}function Oa(e,t,n,r,i,s){Ra(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&qi(t,n,!1),Ja(e,t,s);r=t.stateNode,ka.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ps(t,e.child,null,s),t.child=Ps(t,null,a,s)):Pa(e,t,a,s),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),ro(e,t.containerInfo)}function ja(e,t,n,r,i){return xs(),Ss(i),t.flags|=256,Pa(e,t,n,r),t.child}var Va,Ba,Ua,za,$a={dehydrated:null,treeContext:null,retryLane:0};function Ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function qa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Li(ao,1&o),null===e)return vs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Hu(l,i,0,null),e=$u(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ha(n),t.memoizedState=$a,e):Wa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ka(e,t,a,r=ya(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Hu({mode:"visible",children:r.children},i,0,null),(o=$u(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ps(t,e.child,null,a),t.child.memoizedState=Ha(a),t.memoizedState=$a,o);if(0===(1&t.mode))return Ka(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ka(e,t,a,r=ya(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Fl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,zs(e,i),cu(r,e,i,-1))}return Eu(),Ka(e,t,a,r=ya(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,hs=vi(i.nextSibling),cs=t,ds=!0,fs=null,null!==e&&(ts[ns++]=is,ts[ns++]=ss,ts[ns++]=rs,is=e.id,ss=e.overflow,rs=t),t=Wa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Uu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Uu(r,a):(a=$u(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ha(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=$a,i}return e=(a=e.child).sibling,i=Uu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wa(e,t){return(t=Hu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ka(e,t,n,r){return null!==r&&Ss(r),Ps(t,e.child,null,n),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Os(e.return,t,n)}function Qa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Pa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n,t);else if(19===e.tag)Ga(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Li(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,s);break;case"together":Qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Uu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){if(!ds)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function el(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tl(e,t,n){var r=t.pendingProps;switch(us(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return el(t),null;case 1:case 17:return Bi(t.type)&&Ui(),el(t),null;case 3:return r=t.stateNode,io(),Ri(Fi),Ri(Oi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ws(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==fs&&(pu(fs),fs=null))),Ba(e,t),el(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ua(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return el(t),null}if(e=no(Zs.current),ws(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[bi]=t,r[xi]=o,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(i=0;i<$r.length;i++)Kr($r[i],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":Y(r,o),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Kr("invalid",r);break;case"textarea":ie(r,o),Kr("invalid",r)}for(var l in xe(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&oi(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&oi(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Kr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ai)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[bi]=t,e[xi]=r,Va(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ee(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),i=r;break;case"iframe":case"object":case"embed":Kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<$r.length;i++)Kr($r[i],e);i=r;break;case"source":Kr("error",e),i=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),i=r;break;case"details":Kr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Kr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Kr("invalid",e)}for(o in xe(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Kr("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ai)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return el(t),null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),ws(t)){if(r=t.stateNode,n=t.memoizedProps,r[bi]=t,(o=r.nodeValue!==n)&&null!==(e=cs))switch(e.tag){case 3:oi(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&oi(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[bi]=t,t.stateNode=r}return el(t),null;case 13:if(Ri(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ds&&null!==hs&&0!==(1&t.mode)&&0===(128&t.flags))bs(),xs(),t.flags|=98560,o=!1;else if(o=ws(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[bi]=t}else xs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;el(t),o=!1}else null!==fs&&(pu(fs),fs=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===zl&&(zl=3):Eu())),null!==t.updateQueue&&(t.flags|=4),el(t),null);case 4:return io(),Ba(e,t),null===e&&Yr(t.stateNode.containerInfo),el(t),null;case 10:return Ms(t.type._context),el(t),null;case 19:if(Ri(ao),null===(o=t.memoizedState))return el(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Za(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Za(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Li(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&it()>Yl&&(t.flags|=128,r=!0,Za(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Za(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ds)return el(t),null}else 2*it()-o.renderingStartTime>Yl&&1073741824!==n&&(t.flags|=128,r=!0,Za(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,n=ao.current,Li(ao,r?1&n|2:1&n),t):(el(t),null);case 22:case 23:return wu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(el(t),6&t.subtreeFlags&&(t.flags|=8192)):el(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function nl(e,t){switch(us(t),t.tag){case 1:return Bi(t.type)&&Ui(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ri(Fi),Ri(Oi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ri(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));xs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ri(ao),null;case 4:return io(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return wu(),null;default:return null}}Va=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},Ua=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ai)}for(c in xe(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Kr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},za=function(e,t,n,r){n!==r&&(t.flags|=4)};var rl=!1,il=!1,sl="function"===typeof WeakSet?WeakSet:Set,ol=null;function al(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(ke){Nu(e,t,ke)}else n.current=null}function ll(e,t,n){try{n()}catch(ke){Nu(e,t,ke)}}var ul=!1;function cl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&ll(t,n,s)}i=i.next}while(i!==r)}}function hl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function fl(e){var t=e.alternate;null!==t&&(e.alternate=null,fl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[bi],delete t[xi],delete t[Ei],delete t[Ti],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pl(e){return 5===e.tag||3===e.tag||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ai));else if(4!==r&&null!==(e=e.child))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}var yl=null,wl=!1;function bl(e,t,n){for(n=n.child;null!==n;)xl(e,t,n),n=n.sibling}function xl(e,t,n){if(ft&&"function"===typeof ft.onCommitFiberUnmount)try{ft.onCommitFiberUnmount(dt,n)}catch(Ae){}switch(n.tag){case 5:il||al(n,t);case 6:var r=yl,i=wl;yl=null,bl(e,t,n),wl=i,null!==(yl=r)&&(wl?(e=yl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):yl.removeChild(n.stateNode));break;case 18:null!==yl&&(wl?(e=yl,n=n.stateNode,8===e.nodeType?gi(e.parentNode,n):1===e.nodeType&&gi(e,n),Yt(e)):gi(yl,n.stateNode));break;case 4:r=yl,i=wl,yl=n.stateNode.containerInfo,wl=!0,bl(e,t,n),yl=r,wl=i;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&ll(n,t,o),i=i.next}while(i!==r)}bl(e,t,n);break;case 1:if(!il&&(al(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(Ae){Nu(n,t,Ae)}bl(e,t,n);break;case 21:bl(e,t,n);break;case 22:1&n.mode?(il=(r=il)||null!==n.memoizedState,bl(e,t,n),il=r):bl(e,t,n);break;default:bl(e,t,n)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sl),t.forEach((function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function El(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:yl=l.stateNode,wl=!1;break e;case 3:case 4:yl=l.stateNode.containerInfo,wl=!0;break e}l=l.return}if(null===yl)throw Error(s(160));xl(o,a,i),yl=null,wl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(ye){Nu(i,t,ye)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}function Tl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(El(t,e),Cl(e),4&r){try{cl(3,e,e.return),hl(3,e)}catch(ve){Nu(e,e.return,ve)}try{cl(5,e,e.return)}catch(ve){Nu(e,e.return,ve)}}break;case 1:El(t,e),Cl(e),512&r&&null!==n&&al(n,n.return);break;case 5:if(El(t,e),Cl(e),512&r&&null!==n&&al(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(ve){Nu(e,e.return,ve)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),Ee(l,a);var c=Ee(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?ce(i,d):"children"===h?he(i,d):w(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[xi]=o}catch(ve){Nu(e,e.return,ve)}}break;case 6:if(El(t,e),Cl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(ve){Nu(e,e.return,ve)}}break;case 3:if(El(t,e),Cl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(ve){Nu(e,e.return,ve)}break;case 4:default:El(t,e),Cl(e);break;case 13:El(t,e),Cl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ql=it())),4&r&&Sl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(il=(c=il)||h,El(t,e),il=c):El(t,e),Cl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(ol=e,h=e.child;null!==h;){for(d=ol=h;null!==ol;){switch(p=(f=ol).child,f.tag){case 0:case 11:case 14:case 15:cl(4,f,f.return);break;case 1:al(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(ve){Nu(r,n,ve)}}break;case 5:al(f,f.return);break;case 22:if(null!==f.memoizedState){Al(d);continue}}null!==p?(p.return=f,ol=p):Al(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",a))}catch(ve){Nu(e,e.return,ve)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(ve){Nu(e,e.return,ve)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:El(t,e),Cl(e),4&r&&Sl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(pl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),vl(e,ml(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(s(161))}}catch(a){Nu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function kl(e,t,n){ol=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==ol;){var i=ol,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||rl;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||il;a=rl;var u=il;if(rl=o,(il=l)&&!u)for(ol=i;null!==ol;)l=(o=ol).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,ol=l):Il(i);for(;null!==s;)ol=s,_l(s,t,n),s=s.sibling;ol=i,rl=a,il=u}Pl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,ol=s):Pl(e)}}function Pl(e){for(;null!==ol;){var t=ol;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||hl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!il)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ca(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Xs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Yt(d)}}}break;default:throw Error(s(163))}il||512&t.flags&&dl(t)}catch(f){Nu(t,t.return,f)}}if(t===e){ol=null;break}if(null!==(n=t.sibling)){n.return=t.return,ol=n;break}ol=t.return}}function Al(e){for(;null!==ol;){var t=ol;if(t===e){ol=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ol=n;break}ol=t.return}}function Il(e){for(;null!==ol;){var t=ol;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hl(4,t)}catch(l){Nu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nu(t,i,l)}}var s=t.return;try{dl(t)}catch(l){Nu(t,s,l)}break;case 5:var o=t.return;try{dl(t)}catch(l){Nu(t,o,l)}}}catch(l){Nu(t,t.return,l)}if(t===e){ol=null;break}var a=t.sibling;if(null!==a){a.return=t.return,ol=a;break}ol=t.return}}var Dl,Nl=Math.ceil,Rl=b.ReactCurrentDispatcher,Ll=b.ReactCurrentOwner,Ml=b.ReactCurrentBatchConfig,Ol=0,Fl=null,jl=null,Vl=0,Bl=0,Ul=Ni(0),zl=0,$l=null,Hl=0,ql=0,Wl=0,Kl=null,Gl=null,Ql=0,Yl=1/0,Xl=null,Jl=!1,Zl=null,eu=null,tu=!1,nu=null,ru=0,iu=0,su=null,ou=-1,au=0;function lu(){return 0!==(6&Ol)?it():-1!==ou?ou:ou=it()}function uu(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Vl?Vl&-Vl:null!==Es.transition?(0===au&&(au=Et()),au):0!==(e=_t)?e:e=void 0===(e=window.event)?16:sn(e.type)}function cu(e,t,n,r){if(50<iu)throw iu=0,su=null,Error(s(185));Ct(e,n,r),0!==(2&Ol)&&e===Fl||(e===Fl&&(0===(2&Ol)&&(ql|=n),4===zl&&mu(e,Vl)),hu(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Yl=it()+500,Ki&&Yi()))}function hu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pt(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=xt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=bt(e,e===Fl?Vl:0);if(0===r)null!==n&&tt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&tt(n),1===t)0===e.tag?function(e){Ki=!0,Qi(e)}(gu.bind(null,e)):Qi(gu.bind(null,e)),pi((function(){0===(6&Ol)&&Yi()})),n=null;else{switch(Pt(r)){case 1:n=ot;break;case 4:n=at;break;case 16:default:n=lt;break;case 536870912:n=ht}n=Fu(n,du.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function du(e,t){if(ou=-1,au=0,0!==(6&Ol))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=bt(e,e===Fl?Vl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Tu(e,r);else{t=r;var i=Ol;Ol|=2;var o=Su();for(Fl===e&&Vl===t||(Xl=null,Yl=it()+500,bu(e,t));;)try{ku();break}catch(Ae){xu(e,Ae)}Ls(),Rl.current=o,Ol=i,null!==jl?t=0:(Fl=null,Vl=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=St(e))&&(r=i,t=fu(e,i))),1===t)throw n=$l,bu(e,0),mu(e,r),hu(e,it()),n;if(6===t)mu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Tu(e,r))&&(0!==(o=St(e))&&(r=o,t=fu(e,o))),1===t))throw n=$l,bu(e,0),mu(e,r),hu(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Au(e,Gl,Xl);break;case 3:if(mu(e,r),(130023424&r)===r&&10<(t=Ql+500-it())){if(0!==bt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(Au.bind(null,e,Gl,Xl),t);break}Au(e,Gl,Xl);break;case 4:if(mu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-pt(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=it()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=hi(Au.bind(null,e,Gl,Xl),r);break}Au(e,Gl,Xl);break;default:throw Error(s(329))}}}return hu(e,it()),e.callbackNode===n?du.bind(null,e):null}function fu(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(bu(e,t).flags|=256),2!==(e=Tu(e,t))&&(t=Gl,Gl=n,null!==t&&pu(t)),e}function pu(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function mu(e,t){for(t&=~Wl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!==(6&Ol))throw Error(s(327));Iu();var t=bt(e,0);if(0===(1&t))return hu(e,it()),null;var n=Tu(e,t);if(0!==e.tag&&2===n){var r=St(e);0!==r&&(t=r,n=fu(e,r))}if(1===n)throw n=$l,bu(e,0),mu(e,t),hu(e,it()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e,Gl,Xl),hu(e,it()),null}function vu(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Yl=it()+500,Ki&&Yi())}}function yu(e){null!==nu&&0===nu.tag&&0===(6&Ol)&&Iu();var t=Ol;Ol|=1;var n=Ml.transition,r=_t;try{if(Ml.transition=null,_t=1,e)return e()}finally{_t=r,Ml.transition=n,0===(6&(Ol=t))&&Yi()}}function wu(){Bl=Ul.current,Ri(Ul)}function bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,di(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(us(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ui();break;case 3:io(),Ri(Fi),Ri(Oi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ri(ao);break;case 10:Ms(r.type._context);break;case 22:case 23:wu()}n=n.return}if(Fl=e,jl=e=Uu(e.current,null),Vl=Bl=t,zl=0,$l=null,Wl=ql=Hl=0,Gl=Kl=null,null!==Vs){for(t=0;t<Vs.length;t++)if(null!==(r=(n=Vs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Vs=null}return e}function xu(e,t){for(;;){var n=jl;try{if(Ls(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Ll.current=null,null===n||null===n.return){zl=1,$l=t,jl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Vl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ta(a);if(null!==p){p.flags&=-257,Ca(p,a,l,0,t),1&p.mode&&Ea(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){Ea(o,c,t),Eu();break e}u=Error(s(426))}else if(ds&&1&l.mode){var v=Ta(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ca(v,a,l,0,t),Ss(va(u,l));break e}}o=u=va(u,l),4!==zl&&(zl=2),null===Kl?Kl=[o]:Kl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,xa(0,u,t));break e;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===eu||!eu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,Sa(o,l,t));break e}}o=o.return}while(null!==o)}Pu(n)}catch(b){t=b,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function Su(){var e=Rl.current;return Rl.current=oa,null===e?oa:e}function Eu(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Fl||0===(268435455&Hl)&&0===(268435455&ql)||mu(Fl,Vl)}function Tu(e,t){var n=Ol;Ol|=2;var r=Su();for(Fl===e&&Vl===t||(Xl=null,bu(e,t));;)try{Cu();break}catch(ge){xu(e,ge)}if(Ls(),Ol=n,Rl.current=r,null!==jl)throw Error(s(261));return Fl=null,Vl=0,zl}function Cu(){for(;null!==jl;)_u(jl)}function ku(){for(;null!==jl&&!nt();)_u(jl)}function _u(e){var t=Dl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?Pu(e):jl=t,Ll.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=tl(n,t,Bl)))return void(jl=n)}else{if(null!==(n=nl(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return zl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===zl&&(zl=5)}function Au(e,t,n){var r=_t,i=Ml.transition;try{Ml.transition=null,_t=1,function(e,t,n,r){do{Iu()}while(null!==nu);if(0!==(6&Ol))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Fl&&(jl=Fl=null,Vl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||tu||(tu=!0,Fu(lt,(function(){return Iu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var a=_t;_t=1;var l=Ol;Ol|=4,Ll.current=null,function(e,t){if(li=Jt,xr(e=br())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(ct){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ui={focusedElem:e,selectionRange:n},Jt=!1,ol=t;null!==ol;)if(e=(t=ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ol=e;else for(;null!==ol;){t=ol;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ca(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(ct){Nu(t,t.return,ct)}if(null!==(e=t.sibling)){e.return=t.return,ol=e;break}ol=t.return}m=ul,ul=!1}(e,n),Tl(n,e),Sr(ui),Jt=!!li,ui=li=null,e.current=n,kl(n,e,i),rt(),Ol=l,_t=a,Ml.transition=o}else e.current=n;if(tu&&(tu=!1,nu=e,ru=i),o=e.pendingLanes,0===o&&(eu=null),function(e){if(ft&&"function"===typeof ft.onCommitFiberRoot)try{ft.onCommitFiberRoot(dt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),hu(e,it()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jl)throw Jl=!1,e=Zl,Zl=null,e;0!==(1&ru)&&0!==e.tag&&Iu(),o=e.pendingLanes,0!==(1&o)?e===su?iu++:(iu=0,su=e):iu=0,Yi()}(e,t,n,r)}finally{Ml.transition=i,_t=r}return null}function Iu(){if(null!==nu){var e=Pt(ru),t=Ml.transition,n=_t;try{if(Ml.transition=null,_t=16>e?16:e,null===nu)var r=!1;else{if(e=nu,nu=null,ru=0,0!==(6&Ol))throw Error(s(331));var i=Ol;for(Ol|=4,ol=e.current;null!==ol;){var o=ol,a=o.child;if(0!==(16&ol.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ol=c;null!==ol;){var h=ol;switch(h.tag){case 0:case 11:case 15:cl(8,h,o)}var d=h.child;if(null!==d)d.return=h,ol=d;else for(;null!==ol;){var f=(h=ol).sibling,p=h.return;if(fl(h),h===c){ol=null;break}if(null!==f){f.return=p,ol=f;break}ol=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ol=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,ol=a;else e:for(;null!==ol;){if(0!==(2048&(o=ol).flags))switch(o.tag){case 0:case 11:case 15:cl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ol=y;break e}ol=o.return}}var w=e.current;for(ol=w;null!==ol;){var b=(a=ol).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,ol=b;else e:for(a=w;null!==ol;){if(0!==(2048&(l=ol).flags))try{switch(l.tag){case 0:case 11:case 15:hl(9,l)}}catch(S){Nu(l,l.return,S)}if(l===a){ol=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ol=x;break e}ol=l.return}}if(Ol=i,Yi(),ft&&"function"===typeof ft.onPostCommitFiberRoot)try{ft.onPostCommitFiberRoot(dt,e)}catch(S){}r=!0}return r}finally{_t=n,Ml.transition=t}}return!1}function Du(e,t,n){e=Ks(e,t=xa(0,t=va(n,t),1),1),t=lu(),null!==e&&(Ct(e,1,t),hu(e,t))}function Nu(e,t,n){if(3===e.tag)Du(e,e,n);else for(;null!==t;){if(3===t.tag){Du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===eu||!eu.has(r))){t=Ks(t,e=Sa(t,e=va(n,e),1),1),e=lu(),null!==t&&(Ct(t,1,e),hu(t,e));break}}t=t.return}}function Ru(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(Vl&n)===n&&(4===zl||3===zl&&(130023424&Vl)===Vl&&500>it()-Ql?bu(e,0):Wl|=n),hu(e,t)}function Lu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=yt,0===(130023424&(yt<<=1))&&(yt=4194304)));var n=lu();null!==(e=zs(e,t))&&(Ct(e,t,n),hu(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Lu(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Lu(e,n)}function Fu(e,t){return et(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vu(e,t,n,r){return new ju(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uu(e,t){var n=e.alternate;return null===n?((n=Vu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Bu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return $u(n.children,i,o,t);case T:a=8,i|=8;break;case C:return(e=Vu(12,n,t,2|i)).elementType=C,e.lanes=o,e;case A:return(e=Vu(13,n,t,i)).elementType=A,e.lanes=o,e;case I:return(e=Vu(19,n,t,i)).elementType=I,e.lanes=o,e;case R:return Hu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case _:a=9;break e;case P:a=11;break e;case D:a=14;break e;case N:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Vu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $u(e,t,n,r){return(e=Vu(7,e,r,t)).lanes=n,e}function Hu(e,t,n,r){return(e=Vu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function qu(e,t,n){return(e=Vu(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Vu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(e,t,n,r,i,s,o,a,l){return e=new Ku(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Vu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hs(s),e}function Qu(e){if(!e)return Mi;e:{if(Qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Bi(n))return $i(e,n,t)}return t}function Yu(e,t,n,r,i,s,o,a,l){return(e=Gu(n,r,!0,e,0,s,0,a,l)).context=Qu(null),n=e.current,(s=Ws(r=lu(),i=uu(n))).callback=void 0!==t&&null!==t?t:null,Ks(n,s,i),e.current.lanes=i,Ct(e,i,r),hu(e,r),e}function Xu(e,t,n,r){var i=t.current,s=lu(),o=uu(i);return n=Qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ws(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ks(i,t,o))&&(cu(e,i,o,s),Gs(e,i,o)),o}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}Dl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Fa(t),xs();break;case 5:so(t);break;case 1:Bi(t.type)&&Hi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Li(Is,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Li(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qa(e,t,n):(Li(ao,1&ao.current),null!==(e=Ja(e,t,n))?e.sibling:null);Li(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ya(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Li(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Na(e,t,n)}return Ja(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,ds&&0!==(1048576&t.flags)&&as(t,es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xa(e,t),e=t.pendingProps;var i=Vi(t,Oi.current);Fs(t,n),i=To(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(o=!0,Hi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Hs(t),i.updater=da,t.stateNode=i,i._reactInternals=t,ga(t,r,e,n),t=Oa(null,t,r,!0,o,n)):(t.tag=0,ds&&o&&ls(t),Pa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(r),e=ca(r,e),i){case 0:t=La(null,t,r,e,n);break e;case 1:t=Ma(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,ca(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 3:e:{if(Fa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,qs(e,t),Ys(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n,i=va(Error(s(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=va(Error(s(424)),t));break e}for(hs=vi(t.stateNode.containerInfo.firstChild),cs=t,ds=!0,fs=null,n=As(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xs(),r===i){t=Ja(e,t,n);break e}Pa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&vs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ci(r,i)?a=null:null!==o&&ci(r,o)&&(t.flags|=32),Ra(e,t),Pa(e,t,a,n),t.child;case 6:return null===e&&vs(t),null;case 13:return qa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ps(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:ca(r,i),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Li(Is,r._currentValue),r._currentValue=a,null!==o)if(mr(o.value,a)){if(o.children===i.children&&!Fi.current){t=Ja(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ws(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Os(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Os(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fs(t,n),r=r(i=js(i)),t.flags|=1,Pa(e,t,r,n),t.child;case 14:return i=ca(r=t.type,t.pendingProps),Ia(e,t,r,i=ca(r.type,i),n);case 15:return Da(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ca(r,i),Xa(e,t),t.tag=1,Bi(r)?(e=!0,Hi(t)):e=!1,Fs(t,n),pa(t,r,i),ga(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return Ya(e,t,n);case 22:return Na(e,t,n)}throw Error(s(156,t.tag))};var tc="function"===typeof reportError?reportError:function(e){console.error(e)};function nc(e){this._internalRoot=e}function rc(e){this._internalRoot=e}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(){}function ac(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Ju(o);a.call(e)}}Xu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Ju(o);s.call(e)}}var o=Yu(t,r,e,0,null,!1,0,"",oc);return e._reactRootContainer=o,e[Si]=o.current,Yr(8===e.nodeType?e.parentNode:e),yu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ju(l);a.call(e)}}var l=Gu(e,0,!1,null,0,!1,0,"",oc);return e._reactRootContainer=l,e[Si]=l.current,Yr(8===e.nodeType?e.parentNode:e),yu((function(){Xu(t,l,n,r)})),l}(n,t,e,i,r);return Ju(o)}rc.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xu(e,t,null,null)},rc.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yu((function(){Xu(null,e,null,null)})),t[Si]=null}},rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&0!==t&&t<Ut[n].priority;n++);Ut.splice(n,0,e),0===n&&qt(e)}},At=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wt(t.pendingLanes);0!==n&&(kt(t,1|n),hu(t,it()),0===(6&Ol)&&(Yl=it()+500,Yi()))}break;case 13:yu((function(){var t=zs(e,1);if(null!==t){var n=lu();cu(t,e,1,n)}})),ec(e,1)}},It=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)cu(t,e,134217728,lu());ec(e,134217728)}},Dt=function(e){if(13===e.tag){var t=uu(e),n=zs(e,t);if(null!==n)cu(n,e,t,lu());ec(e,t)}},Nt=function(){return _t},Rt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Pe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ai(r);if(!i)throw Error(s(90));K(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=vu,Oe=yu;var lc={usingClientEntryPoint:!1,Events:[_i,Pi,Ai,Re,Le,vu]},uc={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{dt=hc.inject(cc),ft=hc}catch(we){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ic(e))throw Error(s(299));var n=!1,r="",i=tc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gu(e,1,!1,null,0,n,0,r,i),e[Si]=t.current,Yr(8===e.nodeType?e.parentNode:e),new nc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return yu(e)},t.hydrate=function(e,t,n){if(!sc(t))throw Error(s(200));return ac(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=tc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Yu(t,null,e,1,null!=n?n:null,i,0,o,a),e[Si]=t.current,Yr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new rc(t)},t.render=function(e,t,n){if(!sc(t))throw Error(s(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sc(e))throw Error(s(40));return!!e._reactRootContainer&&(yu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Si]=null}))})),!0)},t.unstable_batchedUpdates=vu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ac(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+P(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var u=0;u<e.length;u++){var c=s+P(a=e[u],u);l+=A(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=s+P(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},L={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,R(S);else{var t=r(c);null!==t&&L(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,C=null,k=-1,_=5,P=-1;function A(){return!(t.unstable_now()-P<_)}function I(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?E():(T=!1,C=null)}}else T=!1}if("function"===typeof w)E=function(){w(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=I,E=function(){N.postMessage(null)}}else E=function(){v(I,0)};function R(e){C=e,T||(T=!0,E())}function L(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(k),k=-1):g=!0,L(x,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".e2dd4d66.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(ge){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="nyt_game:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunknyt_game=self.webpackChunknyt_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(ge){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(u({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),d=e,()=>{s.removeEventListener(c,y),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=v()+1;let u=f(i,g),c=b.createHref(i);try{a.pushState(u,"",c)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(c)}o&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=v();let s=f(i,g),u=b.createHref(i);a.replaceState(s,"",u),o&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=L(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=R(i);o=D(s[a],e,r)}return o}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=S(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,T=3,C=2,k=1,_=10,P=-2,A=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=P),t&&(r+=C),n.filter((e=>!A(e))).reduce(((e,t)=>e+(E.test(t)?T:""===t?k:_)),r)}function D(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=N({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:M([s,c.pathname]),pathnameBase:O(M([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=M([s,c.pathnameBase]))}return o}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const M=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const j=["post","put","patch","delete"],V=(new Set(j),["get",...j]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const U=i.createContext(null);const z=i.createContext(null);const $=i.createContext(null);const H=i.createContext(null);const q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const W=i.createContext(null);function K(){return null!=i.useContext(H)}function G(){return K()||h(!1),i.useContext(H).location}function Q(e,t,n,s){K()||h(!1);let{navigator:o}=i.useContext($),{matches:a}=i.useContext(q),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=G();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=w(e,{pathname:v});let b=ee(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:M([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&b?i.createElement(H.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},b):b}function Y(){let e=function(){var e;let t=i.useContext(W),n=ne(te.UseRouteError),r=re(te.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const X=i.createElement(Y,null);class J extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(q.Provider,{value:this.props.routeContext},i.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(U);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(q.Provider,{value:t},r)}function ee(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||X,u&&(c<0&&0===s?(p="route-fallback",!1||ie[p]||(ie[p]=!0),h=!0,f=null):c===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Z,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(J,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var te=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(te||{});function ne(e){let t=i.useContext(z);return t||h(!1),t}function re(e){let t=function(){let e=i.useContext(q);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ie={};const se={};const oe=(e,t,n)=>{var r;se[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(se[r]=!0,console.warn(r))};function ae(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&oe("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||oe("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&oe("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&oe("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&oe("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&oe("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}s.startTransition;function le(e){h(!1)}function ue(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;K()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:c,navigator:a,static:l,future:B({v7_relativeSplatPath:!1},u)})),[c,u,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,w=i.useMemo((()=>{let e=L(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:o}}),[c,f,p,m,v,y,o]);return null==w?null:i.createElement($.Provider,{value:d},i.createElement(H.Provider,{children:n,value:w}))}function ce(e){let{children:t,location:n}=e;return Q(he(t),n)}new Promise((()=>{}));i.Component;function he(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,he(e.props.children,s));e.type!==le&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=he(e.props.children,s)),n.push(o)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(ge){}new Map;const de=s.startTransition;l.flushSync,s.useId;function fe(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),v((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=g(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:m(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=i.useCallback((e=>{h&&de?de((()=>c(e))):c(e)}),[c,h]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.useEffect((()=>ae(r)),[r]),i.createElement(ue,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var pe,me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pe||(pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(me||(me={}));let ge={data:""},ve=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ge,ye=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,we=/\/\*[^]*?\*\/|  +/g,be=/\n+/g,xe=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?xe(o,s):s+"{"+xe(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=xe(o,t?t.replace(/([^,])+/g,(e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=xe.p?xe.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Se={},Ee=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Ee(e[n]);return t}return e},Te=(e,t,n,r,i)=>{let s=Ee(e),o=Se[s]||(Se[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Se[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=ye.exec(e.replace(we,""));)t[4]?r.shift():t[3]?(n=t[3].replace(be," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(be," ").trim();return r[0]})(e);Se[o]=xe(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&Se.g?Se.g:null;return n&&(Se.g=Se[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Se[o],t,r,a),o};function Ce(e){let t=this||{},n=e.call?e(t.p):e;return Te(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":xe(e,""):!1===e?"":e}return e+r+(null==s?"":s)}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,ve(t.target),t.g,t.o,t.k)}Ce.bind({g:1});let ke,_e,Pe,Ae=Ce.bind({k:1});function Ie(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:_e&&_e()},a),n.o=/ *go\d+/.test(l),a.className=Ce.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let u=e;return e[0]&&(u=a.as||e,delete a.as),Pe&&u[0]&&Pe(a),ke(u,a)}return t?t(i):i}}var De=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Ne=(()=>{let e=0;return()=>(++e).toString()})(),Re=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Le=new Map,Me=e=>{if(Le.has(e))return;let t=setTimeout((()=>{Le.delete(e),Ve({type:4,toastId:e})}),1e3);Le.set(e,t)},Oe=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=Le.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?Oe(e,{type:1,toast:n}):Oe(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Me(r):e.toasts.forEach((e=>{Me(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},Fe=[],je={toasts:[],pausedAt:void 0},Ve=e=>{je=Oe(je,e),Fe.forEach((e=>{e(je)}))},Be={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ue=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Ne()}}(t,e,n);return Ve({type:2,toast:r}),r.id},ze=(e,t)=>Ue("blank")(e,t);ze.error=Ue("error"),ze.success=Ue("success"),ze.loading=Ue("loading"),ze.custom=Ue("custom"),ze.dismiss=e=>{Ve({type:3,toastId:e})},ze.remove=e=>Ve({type:4,toastId:e}),ze.promise=(e,t,n)=>{let r=ze.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(ze.success(De(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{ze.error(De(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var $e=(e,t)=>{Ve({type:1,toast:{id:e,height:t}})},He=()=>{Ve({type:5,time:Date.now()})},qe=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(je);(0,i.useEffect)((()=>(Fe.push(n),()=>{let e=Fe.indexOf(n);e>-1&&Fe.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Be[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...t,toasts:r}}(e);(0,i.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>ze.dismiss(t.id)),n);t.visible&&ze.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,i.useCallback)((()=>{n&&Ve({type:6,time:Date.now()})}),[n]),s=(0,i.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=n||{},o=t.filter((t=>(t.position||s)===(e.position||s)&&t.height)),a=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<a&&e.visible)).length;return o.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:$e,startPause:He,endPause:r,calculateOffset:s}}},We=Ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ke=Ae`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ge=Ae`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Qe=Ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${We} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ke} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ge} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ye=Ae`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xe=Ie("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Ye} 1s linear infinite;
`,Je=Ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ze=Ae`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,et=Ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Je} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ze} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tt=Ie("div")`
  position: absolute;
`,nt=Ie("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rt=Ae`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,it=Ie("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,st=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?i.createElement(it,null,n):n:"blank"===r?null:i.createElement(nt,null,i.createElement(Xe,{...s}),"loading"!==r&&i.createElement(tt,null,"error"===r?i.createElement(Qe,{...s}):i.createElement(et,{...s})))},ot=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,at=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,lt=Ie("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ut=Ie("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ct=i.memo((e=>{let{toast:t,position:n,style:r,children:s}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Re()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ot(n),at(n)];return{animation:t?`${Ae(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ae(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},a=i.createElement(st,{toast:t}),l=i.createElement(ut,{...t.ariaProps},De(t.message,t));return i.createElement(lt,{className:t.className,style:{...o,...r,...t.style}},"function"==typeof s?s({icon:a,message:l}):i.createElement(i.Fragment,null,a,l))}));!function(e,t,n,r){xe.p=t,ke=e,_e=n,Pe=r}(i.createElement);var ht=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:o}=e,a=i.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,s]);return i.createElement("div",{ref:a,className:n,style:r},o)},dt=Ce`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ft=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:s,children:o,containerStyle:a,containerClassName:l}=e,{toasts:u,handlers:c}=qe(r);return i.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Re()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(r,c.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return i.createElement(ht,{id:e.id,key:e.id,onHeightUpdate:c.updateHeight,className:e.visible?dt:"",style:a},"custom"===e.type?De(e.message,e):o?o(e):i.createElement(ct,{toast:e,position:r}))})))},pt=ze;const mt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new vt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yt=function(e){return function(e){const t=mt(e);return gt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},wt=function(e){try{return gt.decodeString(e,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};const bt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,xt=()=>{try{return bt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyD6unlZrDnZkFD0CgxwqRKDy87HuM9d1EI",REACT_APP_FIREBASE_AUTH_DOMAIN:"flip-ebe90.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"flip-ebe90",REACT_APP_FIREBASE_STORAGE_BUCKET:"flip-ebe90.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"951306577173",REACT_APP_FIREBASE_APP_ID:"1:951306577173:web:82dce3e4265408eef8b51c",REACT_APP_ANALYTICS_ID:"G-EJSQXT892D"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ge){return}const t=e&&wt(e[1]);return t&&JSON.parse(t)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},St=e=>{const t=(e=>{var t,n;return null===(n=null===(t=xt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Et=()=>{var e;return null===(e=xt())||void 0===e?void 0:e.config};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ct(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kt(){return!function(){var e;const t=null===(e=xt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ge){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){try{return"object"===typeof indexedDB}catch(ge){return!1}}class Pt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Pt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(It,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Pt(n,s,t)}}const It=/\{\$([^}]+)}/g;function Dt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Nt(n)&&Nt(s)){if(!Dt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nt(e){return null!==e&&"object"===typeof e}function Rt(e){return e&&e._delegate?e._delegate:e}class Lt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mt="[DEFAULT]";class Ot{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Tt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ge){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ge){if(r)return null;throw ge}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mt})}catch(ge){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ge){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Mt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.component?this.component.multipleInstances?e:Mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ot(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jt=[];var Vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vt||(Vt={}));const Bt={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Ut=Vt.INFO,zt={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},$t=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=zt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Ht{constructor(e){this.name=e,this._logLevel=Ut,this._logHandler=$t,this._userLogHandler=null,jt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}let qt,Wt;const Kt=new WeakMap,Gt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap;let Jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nn(this),n),tn(Kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tn(e.apply(nn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(nn(this),t,...r);return Qt.set(s,t.sort?t.sort():[t]),tn(s)}}function en(e){return"function"===typeof e?Zt(e):(e instanceof IDBTransaction&&function(e){if(Gt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Gt.set(e,t)}(e),t=e,(qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Jt):e);var t}function tn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(tn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Kt.set(t,e)})).catch((()=>{})),Xt.set(t,e),t}(e);if(Yt.has(e))return Yt.get(e);const t=en(e);return t!==e&&(Yt.set(e,t),Xt.set(t,e)),t}const nn=e=>Xt.get(e);const rn=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],on=new Map;function an(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(on.get(t))return on.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return on.set(t,s),s}Jt=(e=>({...e,get:(t,n,r)=>an(t,n)||e.get(t,n,r),has:(t,n)=>!!an(t,n)||e.has(t,n)}))(Jt);class ln{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const un="@firebase/app",cn="0.10.16",hn=new Ht("@firebase/app"),dn="@firebase/app-compat",fn="@firebase/analytics-compat",pn="@firebase/analytics",mn="@firebase/app-check-compat",gn="@firebase/app-check",vn="@firebase/auth",yn="@firebase/auth-compat",wn="@firebase/database",bn="@firebase/data-connect",xn="@firebase/database-compat",Sn="@firebase/functions",En="@firebase/functions-compat",Tn="@firebase/installations",Cn="@firebase/installations-compat",kn="@firebase/messaging",_n="@firebase/messaging-compat",Pn="@firebase/performance",An="@firebase/performance-compat",In="@firebase/remote-config",Dn="@firebase/remote-config-compat",Nn="@firebase/storage",Rn="@firebase/storage-compat",Ln="@firebase/firestore",Mn="@firebase/vertexai",On="@firebase/firestore-compat",Fn="firebase",jn="[DEFAULT]",Vn={[un]:"fire-core",[dn]:"fire-core-compat",[pn]:"fire-analytics",[fn]:"fire-analytics-compat",[gn]:"fire-app-check",[mn]:"fire-app-check-compat",[vn]:"fire-auth",[yn]:"fire-auth-compat",[wn]:"fire-rtdb",[bn]:"fire-data-connect",[xn]:"fire-rtdb-compat",[Sn]:"fire-fn",[En]:"fire-fn-compat",[Tn]:"fire-iid",[Cn]:"fire-iid-compat",[kn]:"fire-fcm",[_n]:"fire-fcm-compat",[Pn]:"fire-perf",[An]:"fire-perf-compat",[In]:"fire-rc",[Dn]:"fire-rc-compat",[Nn]:"fire-gcs",[Rn]:"fire-gcs-compat",[Ln]:"fire-fst",[On]:"fire-fst-compat",[Mn]:"fire-vertex","fire-js":"fire-js",[Fn]:"fire-js-all"},Bn=new Map,Un=new Map,zn=new Map;function $n(e,t){try{e.container.addComponent(t)}catch(ge){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,ge)}}function Hn(e){const t=e.name;if(zn.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;zn.set(t,e);for(const n of Bn.values())$n(n,e);for(const n of Un.values())$n(n,e);return!0}function qn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Wn=new At("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Kn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}function Gn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:jn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wn.create("bad-app-name",{appName:String(i)});if(n||(n=Et()),!n)throw Wn.create("no-options");const s=Bn.get(i);if(s){if(Dt(n,s.options)&&Dt(r,s.config))return s;throw Wn.create("duplicate-app",{appName:i})}const o=new Ft(i);for(const l of zn.values())o.addComponent(l);const a=new Kn(n,r,o);return Bn.set(i,a),a}function Qn(e,t,n){var r;let i=null!==(r=Vn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void hn.warn(e.join(" "))}Hn(new Lt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Yn="firebase-heartbeat-store";let Xn=null;function Jn(){return Xn||(Xn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=tn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(tn(o.result),e.oldVersion,e.newVersion,tn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Yn)}catch(ge){console.warn(ge)}}}).catch((e=>{throw Wn.create("idb-open",{originalErrorMessage:e.message})}))),Xn}async function Zn(e,t){try{const n=(await Jn()).transaction(Yn,"readwrite"),r=n.objectStore(Yn);await r.put(t,er(e)),await n.done}catch(ge){if(ge instanceof Pt)hn.warn(ge.message);else{const t=Wn.create("idb-set",{originalErrorMessage:null===ge||void 0===ge?void 0:ge.message});hn.warn(t.message)}}}function er(e){return`${e.name}!${e.options.appId}`}class tr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(ge){hn.warn(ge)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=nr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ir(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ir(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=yt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ge){return hn.warn(ge),""}}}function nr(){return(new Date).toISOString().substring(0,10)}class rr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_t()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Jn()).transaction(Yn),n=await t.objectStore(Yn).get(er(e));return await t.done,n}catch(ge){if(ge instanceof Pt)hn.warn(ge.message);else{const t=Wn.create("idb-get",{originalErrorMessage:null===ge||void 0===ge?void 0:ge.message});hn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ir(e){return yt(JSON.stringify({version:2,heartbeats:e})).length}var sr;sr="",Hn(new Lt("platform-logger",(e=>new ln(e)),"PRIVATE")),Hn(new Lt("heartbeat",(e=>new tr(e)),"PRIVATE")),Qn(un,cn,sr),Qn(un,cn,"esm2017"),Qn("fire-js","");var or,ar,lr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ur={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ar=ur.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},or=ur.Integer=r}).apply("undefined"!==typeof lr?lr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var cr,hr,dr,fr,pr,mr,gr,vr,yr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},wr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yr&&yr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function T(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,P=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);_=()=>{e.then(D)}};var D=()=>{for(var e;e=T();){try{e.h.call(e.g)}catch(Se){E(Se)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}P=!1};function N(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Se){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(_e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,R);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new U(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(B(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[H]=null)):B(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;x(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,N),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}h(le,N);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ve(){}pe.prototype.h=null;var be={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xe(){R.call(this,"d")}function Ee(){R.call(this,"c")}h(xe,R),h(Ee,R);var Te={},Ce=null;function Pe(){return Ce=Ce||new ne}function Ae(e){R.call(this,Te.La,e)}function Ie(e){const t=Pe();re(t,new Ae(t))}function De(e,t){R.call(this,Te.STAT_EVENT,e),this.stat=t}function Ne(e){const t=Pe();re(t,new De(t,e))}function Re(e,t){R.call(this,Te.Ma,e),this.size=t}function Le(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Me(){this.g=!0}function Oe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Te.La="serverreachability",h(Ae,R),Te.STAT_EVENT="statevent",h(De,R),Te.Ma="timingevent",h(Re,R),Me.prototype.xa=function(){this.g=!1},Me.prototype.info=function(){};var Fe,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Be(){}function Ue(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}h(Be,pe),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},Fe=new Be;var $e={},He={};function qe(e,t,n){e.L=1,e.v=yt(ft(t)),e.m=n,e.P=!0,We(e,null)}function We(e,t){e.F=Date.now(),Qe(e),e.A=ft(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new ze,e.g=wn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ie(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ke(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ge(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?He:(n=Number(t.substring(n,r)),isNaN(n)?$e:(r+=1)+n>t.length?He:(t=t.slice(r,r+n),e.C=r+n,t))}function Qe(e){e.S=Date.now()+e.I,Ye(e,e.I)}function Ye(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Le(u(e.ba,e),t)}function Xe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Je(e){0==e.j.G||e.J||pn(e.j,e)}function Ze(e){Xe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function tt(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ot(n.h,e)))if(!e.K&&ot(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(ye){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fn(n),nn(n)}cn(n),Ne(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Le(u(n.Za,n),6e3));if(1>=st(n.h)&&n.ca){try{n.ca()}catch(ye){}n.ca=void 0}}else gn(n,11)}else if((e.K||n.g==e)&&fn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(at(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,vt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=yn(r,r.J?r.ia:null,r.W),o.K){lt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Xe(a),Qe(a)),r.g=o}else un(r);0<n.i.length&&sn(n)}else"stop"!=u[0]&&"close"!=u[0]||gn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?gn(n,7):tn(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ie()}catch(ye){}}Ue.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Xt(e)?t.j():this.Y(e)},Ue.prototype.Y=function(e){try{if(e==this.g)e:{const d=Xt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Jt(this.g)))){this.J||4!=d||7==t||Ie(),Xe(this);var n=this.g.Z();this.X=n;t:if(Ke(this)){var r=Jt(this.g);e="";var s=r.length,o=4==Xt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ze(this),Je(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ne(12),Ze(this),Je(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tt(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ge(this,a),e==He){4==d&&(this.s=4,Ne(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==$e){this.s=4,Ne(15),Oe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),tt(this,e)}if(Ke(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ne(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),hn(h),h.M=!0,Ne(11))}}else Oe(this.i,this.l,a,"[Invalid Chunked Response]"),Ze(this),Je(this)}else Oe(this.i,this.l,a,null),tt(this,a);4==d&&Ze(this),this.o&&!this.J&&(4==d?pn(this.j,this):(this.o=!1,Qe(this)))}else(function(e){const t={};e=(e.g&&2<=Xt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Ze(this),Je(this)}}}catch(et){}},Ue.prototype.cancel=function(){this.J=!0,Ze(this)},Ue.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ie(),Ne(17)),Ze(this),this.s=2,Je(this)):Ye(this,this.S-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function st(e){return e.h?1:e.g?e.g.size:0}function ot(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function at(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ut(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function ct(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}rt.prototype.cancel=function(){if(this.i=ut(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof dt){this.h=e.h,pt(this,e.j),this.o=e.o,this.g=e.g,mt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),gt(this,n),this.m=e.m}else e&&(t=String(e).match(ht))?(this.h=!1,pt(this,t[1]||"",!0),this.o=wt(t[2]||""),this.g=wt(t[3]||"",!0),mt(this,t[4]),this.l=wt(t[5]||"",!0),gt(this,t[6]||"",!0),this.m=wt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ft(e){return new dt(e)}function pt(e,t,n){e.j=n?wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function gt(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(At(this,t),Dt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=bt(t,Ct)),e.i=new _t(t,e.h))}function vt(e,t,n){e.i.set(t,n)}function yt(e){return vt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bt(t,St,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,St,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?Tt:Et,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,kt)),e.join("")};var St=/[#\/\?@]/g,Et=/[#\?:]/g,Tt=/[#\?]/g,Ct=/[#\?@]/g,kt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function At(e,t){Pt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Pt(e),t=Nt(e,t),e.g.has(t)}function Dt(e,t,n){At(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),d(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(_e){}}function Lt(){this.g=new fe}function Mt(e,t,n){const r=n||"";try{ct(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ge){throw t.push(r+"type="+encodeURIComponent("_badmap")),ge}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ft(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function jt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Bt(e)}function Bt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vt(e,t,n))}function $t(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){Pt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)It(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,It(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Ot,pe),Ot.prototype.g=function(){return new Ft(this.l,this.j)},Ot.prototype.i=function(e){return function(){return e}}({}),h(Ft,ne),(e=Ft.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Bt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):Bt(this),3==this.readyState&&jt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ft.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h($t,ne);var Ht=/^https?$/i,qt=["POST","PUT"];function Wt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Kt(e),Qt(e)}function Kt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Gt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Xt(e)||2!=e.Z()))if(e.u&&4==Xt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Xt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(ht)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ht.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Xt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Kt(e)}}finally{Qt(e)}}}function Qt(e,t){if(e.g){Yt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ge){}}}function Yt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Xt(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function en(e){this.Aa=0,this.i=[],this.j=new Me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new rt(e&&e.concurrentRequestLimit),this.Da=new Lt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tn(e){if(rn(e),3==e.G){var t=e.U++,n=ft(e.I);if(vt(n,"SID",e.K),vt(n,"RID",t),vt(n,"TYPE","terminate"),an(e,n),(t=new Ue(e,e.j,t)).L=2,t.v=yt(ft(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(ke){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=wn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Qe(t)}vn(e)}function nn(e){e.g&&(hn(e),e.g.cancel(),e.g=null)}function rn(e){nn(e),e.u&&(i.clearTimeout(e.u),e.u=null),fn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function sn(e){if(!it(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||I(),P||(_(),P=!0),A.add(t,e),e.B=0}}function on(e,t){var n;n=t?t.l:e.U++;const r=ft(e.I);vt(r,"SID",e.K),vt(r,"RID",n),vt(r,"AID",e.T),an(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new Ue(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=ln(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),at(e.h,n),qe(n,r,t)}function an(e,t){e.H&&y(e.H,(function(e,n){vt(t,n,e)})),e.l&&ct({},(function(e,n){vt(t,n,e)}))}function ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Mt(a,e,"req"+n+"_")}catch(et){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function un(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||I(),P||(_(),P=!0),A.add(t,e),e.v=0}}function cn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Le(u(e.Fa,e),mn(e,e.v)),e.v++,!0)}function hn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function dn(e){e.g=new Ue(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ft(e.qa);vt(t,"RID","rpc"),vt(t,"SID",e.K),vt(t,"AID",e.T),vt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&vt(t,"TO",e.ja),vt(t,"TYPE","xmlhttp"),an(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=yt(ft(t)),n.m=null,n.P=!0,We(n,e)}function fn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function pn(e,t){var n=null;if(e.g==t){fn(e),hn(e),e.g=null;var r=2}else{if(!ot(e.h,t))return;n=t.D,lt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Pe(),new Re(r,n)),sn(e)}else un(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(st(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Le(u(e.Ga,e,t),mn(e,e.B)),e.B++,!0))}(e,t)||2==r&&cn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:gn(e,5);break;case 4:gn(e,10);break;case 3:gn(e,6);break;default:gn(e,2)}}function mn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function gn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||pt(r,"https"),yt(r),t?function(e,t){const n=new Me;if(i.Image){const r=new Image;r.onload=c(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Rt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Me;const n=new AbortController,r=setTimeout((()=>{n.abort(),Rt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Rt(0,0,!1,t)}))}(r.toString(),n)}else Ne(2);e.G=0,e.l&&e.l.sa(t),vn(e),rn(e)}function vn(e){if(e.G=0,e.ka=[],e.l){const t=ut(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function yn(e,t,n){var r=n instanceof dt?ft(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new dt(null);r&&pt(o,r),t&&(o.g=t),s&&mt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&vt(r,n,t),vt(r,"VER",e.la),an(e,r),r}function wn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new $t(new Ot({eb:n})):new $t(e.pa)).Ha(e.J),t}function bn(){}function xn(){}function Sn(e,t){ne.call(this),this.g=new en(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cn(this)}function En(e){xe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tn(){Ee.call(this),this.status=1}function Cn(e){this.g=e}(e=$t.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?me(this.o):me(Fe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(_e){return void Wt(this,_e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yt(this),this.u=!0,this.g.send(e),this.u=!1}catch(_e){Wt(this,_e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),$t.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},e.bb=function(){Gt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch(we){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(we){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=en.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ne(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=yn(this,null,this.W),sn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Ue(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ln(this,i,t),vt(n=ft(this.I),"RID",e),vt(n,"CVER",22),this.D&&vt(n,"X-HTTP-Session-Id",this.D),an(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ut(s)))+"&"+t:this.m&&zt(n,this.m,s)),at(this.h,i),this.Ua&&vt(n,"TYPE","init"),this.P?(vt(n,"$req",t),vt(n,"SID","null"),i.T=!0,qe(i,n,null)):qe(i,n,t),this.G=2}}else 3==this.G&&(e?on(this,e):0==this.i.length||it(this.h)||on(this))},e.Fa=function(){if(this.u=null,dn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Le(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),nn(this),dn(this))},e.Za=function(){null!=this.C&&(this.C=null,nn(this),cn(this),Ne(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new Sn(e,t)},h(Sn,ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){tn(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.G&&sn(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,Sn.aa.N.call(this)},h(En,xe),h(Tn,Ee),h(Cn,bn),Cn.prototype.ua=function(){re(this.g,"a")},Cn.prototype.ta=function(e){re(this.g,new En(e))},Cn.prototype.sa=function(e){re(this.g,new Tn)},Cn.prototype.ra=function(){re(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,vr=wr.createWebChannelTransport=function(){return new xn},gr=wr.getStatEventTarget=function(){return Pe()},mr=wr.Event=Te,pr=wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,fr=wr.ErrorCode=je,Ve.COMPLETE="complete",dr=wr.EventType=Ve,ve.EventType=be,be.OPEN="a",be.CLOSE="b",be.ERROR="c",be.MESSAGE="d",ne.prototype.listen=ne.prototype.K,hr=wr.WebChannel=ve,wr.FetchXmlHttpFactory=Ot,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,cr=wr.XhrIo=$t}).apply("undefined"!==typeof yr?yr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const br="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Sr="11.0.2";const Er=new Ht("@firebase/firestore");function Tr(){return Er.logLevel}function Cr(e){if(Er.logLevel<=Vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pr);Er.debug(`Firestore (${Sr}): ${e}`,...i)}}function kr(e){if(Er.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pr);Er.error(`Firestore (${Sr}): ${e}`,...i)}}function _r(e){if(Er.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Pr);Er.warn(`Firestore (${Sr}): ${e}`,...i)}}function Pr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(ve){return e}}function Ar(){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw kr(e),new Error(e)}function Ir(e,t){e||Ar()}function Dr(e,t){return e}const Nr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rr extends Pt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Mr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Or{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xr.UNAUTHENTICATED)))}shutdown(){}}class Fr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jr{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ir(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lr,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Cr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Cr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lr)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Cr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ir("string"==typeof t.accessToken),new Mr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new xr(e)}}class Vr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Br{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Vr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ur{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ir(void 0===this.o);const n=e=>{null!=e.error&&Cr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Cr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Cr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Cr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ir("string"==typeof e.token),this.R=e.token,new Ur(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $r(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Hr{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=$r(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function qr(e,t){return e<t?-1:e>t?1:0}function Wr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(e){return Kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Kr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rr(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rr(Nr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rr(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rr(Nr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gr{static fromTimestamp(e){return new Gr(e)}static min(){return new Gr(new Kr(0,0))}static max(){return new Gr(new Kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ar(),void 0===n?n=e.length-t:n>e.length-t&&Ar(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Qr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yr extends Qr{construct(e,t,n){return new Yr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Rr(Nr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Yr(e)}static emptyPath(){return new Yr([])}}const Xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends Qr{construct(e,t,n){return new Jr(e,t,n)}static isValidIdentifier(e){return Xr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rr(Nr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Rr(Nr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Rr(Nr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Rr(Nr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class Zr{constructor(e){this.path=e}static fromPath(e){return new Zr(Yr.fromString(e))}static fromName(e){return new Zr(Yr.fromString(e).popFirst(5))}static empty(){return new Zr(Yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zr(new Yr(e.slice()))}}class ei{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ei.UNKNOWN_ID=-1;function ti(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Gr.fromTimestamp(1e9===r?new Kr(n+1,0):new Kr(n,r));return new ri(i,Zr.empty(),t)}function ni(e){return new ri(e.readTime,e.key,-1)}class ri{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ri(Gr.min(),Zr.empty(),-1)}static max(){return new ri(Gr.max(),Zr.empty(),-1)}}function ii(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zr.comparator(e.documentKey,t.documentKey),0!==n?n:qr(e.largestBatchId,t.largestBatchId))}const si="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ai(e){if(e.code!==Nr.FAILED_PRECONDITION||e.message!==si)throw e;Cr("LocalStore","Unexpectedly lost primary lease")}class li{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new li(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof li?t:li.resolve(t)}catch(e){return li.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):li.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):li.reject(t)}static resolve(e){return new li(((t,n)=>{t(e)}))}static reject(e){return new li(((t,n)=>{n(e)}))}static waitFor(e){return new li(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=li.resolve(!1);for(const n of e)t=t.next((e=>e?li.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new li(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new li(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ui(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ci(e){return"IndexedDbTransactionError"===e.name}class hi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function di(e){return null==e}function fi(e){return 0===e&&1/e==-1/0}function pi(e){return"number"==typeof e&&Number.isInteger(e)&&!fi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function mi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vi(t)),t=gi(e.get(n),t);return vi(t)}function gi(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function vi(e){return e+"\x01\x01"}hi.oe=-1;const yi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wi=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bi=wi,xi=[...bi,"indexConfiguration","indexState","indexEntries"];function Si(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ei(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ti(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ci{constructor(e,t){this.comparator=e,this.root=t||_i.EMPTY}insert(e,t){return new Ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new Ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}}class ki{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_i.RED,this.left=null!=r?r:_i.EMPTY,this.right=null!=i?i:_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _i(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ar();if(this.right.isRed())throw Ar();const e=this.left.check();if(e!==this.right.check())throw Ar();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw Ar()}get value(){throw Ar()}get color(){throw Ar()}get left(){throw Ar()}get right(){throw Ar()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _i(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pi{constructor(e){this.comparator=e,this.data=new Ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ai(this.data.getIterator())}getIteratorFrom(e){return new Ai(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Pi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pi(this.comparator);return t.data=e,t}}class Ai{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ii{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new Ii([])}unionWith(e){let t=new Pi(Jr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Di extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Di("Invalid base64 string: "+e):e}}(e);return new Ni(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(e){if(Ir(!!e),"string"==typeof e){let t=0;const n=Ri.exec(e);if(Ir(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Mi(e.seconds),nanos:Mi(e.nanos)}}function Mi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Oi(e){return"string"==typeof e?Ni.fromBase64String(e):Ni.fromUint8Array(e)}function Fi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ji(e){const t=e.mapValue.fields.__previous_value__;return Fi(t)?ji(t):t}function Vi(e){const t=Li(e.mapValue.fields.__local_write_time__.timestampValue);return new Kr(t.seconds,t.nanos)}class Bi{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Ui{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ui("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ui&&e.projectId===this.projectId&&e.database===this.database}}const zi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $i(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fi(e)?4:ss(e)?9007199254740991:rs(e)?10:11:Ar()}function Hi(e,t){if(e===t)return!0;const n=$i(e);if(n!==$i(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vi(e).isEqual(Vi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Li(e.timestampValue),r=Li(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Oi(e.bytesValue).isEqual(Oi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mi(e.geoPointValue.latitude)===Mi(t.geoPointValue.latitude)&&Mi(e.geoPointValue.longitude)===Mi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mi(e.integerValue)===Mi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Mi(e.doubleValue),r=Mi(t.doubleValue);return n===r?fi(n)===fi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wr(e.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Si(n)!==Si(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hi(n[i],r[i])))return!1;return!0}(e,t);default:return Ar()}}function qi(e,t){return void 0!==(e.values||[]).find((e=>Hi(e,t)))}function Wi(e,t){if(e===t)return 0;const n=$i(e),r=$i(t);if(n!==r)return qr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Mi(e.integerValue||e.doubleValue),r=Mi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ki(e.timestampValue,t.timestampValue);case 4:return Ki(Vi(e),Vi(t));case 5:return qr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Oi(e),r=Oi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=qr(n[i],r[i]);if(0!==e)return e}return qr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qr(Mi(e.latitude),Mi(t.latitude));return 0!==n?n:qr(Mi(e.longitude),Mi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=qr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Gi(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zi.mapValue&&t===zi.mapValue)return 0;if(e===zi.mapValue)return 1;if(t===zi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=qr(r[o],s[o]);if(0!==e)return e;const t=Wi(n[r[o]],i[s[o]]);if(0!==t)return t}return qr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ar()}}function Ki(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qr(e,t);const n=Li(e),r=Li(t),i=qr(n.seconds,r.seconds);return 0!==i?i:qr(n.nanos,r.nanos)}function Gi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wi(n[i],r[i]);if(e)return e}return qr(n.length,r.length)}function Qi(e){return Yi(e)}function Yi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Li(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Oi(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yi(e.fields[i])}`;return n+"}"}(e.mapValue):Ar()}function Xi(e){switch($i(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ji(e);return t?16+Xi(t):16;case 5:return 2*e.stringValue.length;case 6:return Oi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Xi(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ei(e.fields,((e,n)=>{t+=e.length+Xi(n)})),t}(e.mapValue);default:throw Ar()}}function Ji(e){return!!e&&"integerValue"in e}function Zi(e){return!!e&&"arrayValue"in e}function es(e){return!!e&&"nullValue"in e}function ts(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ns(e){return!!e&&"mapValue"in e}function rs(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function is(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ei(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=is(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=is(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ss(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ns(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(t)}setAll(e){let t=Jr.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=is(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ns(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ns(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ei(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new os(is(this.value))}}function as(e){const t=[];return Ei(e.fields,((e,n)=>{const r=new Jr([e]);if(ns(n)){const e=as(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ii(t)}class ls{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ls(e,0,Gr.min(),Gr.min(),Gr.min(),os.empty(),0)}static newFoundDocument(e,t,n,r){return new ls(e,1,t,Gr.min(),n,r,0)}static newNoDocument(e,t){return new ls(e,2,t,Gr.min(),Gr.min(),os.empty(),0)}static newUnknownDocument(e,t){return new ls(e,3,t,Gr.min(),Gr.min(),os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ls&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class us{constructor(e,t){this.position=e,this.inclusive=t}}function cs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Zr.comparator(Zr.fromName(o.referenceValue),n.key):Wi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hi(e.position[n],t.position[n]))return!1;return!0}class ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ps{}class ms extends ps{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Es(e,t,n):"array-contains"===t?new _s(e,n):"in"===t?new Ps(e,n):"not-in"===t?new As(e,n):"array-contains-any"===t?new Is(e,n):new ms(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ts(e,n):new Cs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wi(t,this.value)):null!==t&&$i(this.value)===$i(t)&&this.matchesComparison(Wi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ar()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends ps{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new gs(e,t)}matches(e){return vs(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vs(e){return"and"===e.op}function ys(e){return ws(e)&&vs(e)}function ws(e){for(const t of e.filters)if(t instanceof gs)return!1;return!0}function bs(e){if(e instanceof ms)return e.field.canonicalString()+e.op.toString()+Qi(e.value);if(ys(e))return e.filters.map((e=>bs(e))).join(",");{const t=e.filters.map((e=>bs(e))).join(",");return`${e.op}(${t})`}}function xs(e,t){return e instanceof ms?function(e,t){return t instanceof ms&&e.op===t.op&&e.field.isEqual(t.field)&&Hi(e.value,t.value)}(e,t):e instanceof gs?function(e,t){return t instanceof gs&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&xs(n,t.filters[r])),!0)}(e,t):void Ar()}function Ss(e){return e instanceof ms?function(e){return`${e.field.canonicalString()} ${e.op} ${Qi(e.value)}`}(e):e instanceof gs?function(e){return e.op.toString()+" {"+e.getFilters().map(Ss).join(" ,")+"}"}(e):"Filter"}class Es extends ms{constructor(e,t,n){super(e,t,n),this.key=Zr.fromName(n.referenceValue)}matches(e){const t=Zr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ts extends ms{constructor(e,t){super(e,"in",t),this.keys=ks("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Cs extends ms{constructor(e,t){super(e,"not-in",t),this.keys=ks("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ks(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zr.fromName(e.referenceValue)))}class _s extends ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zi(t)&&qi(t.arrayValue,this.value)}}class Ps extends ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qi(this.value.arrayValue,t)}}class As extends ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(qi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qi(this.value.arrayValue,t)}}class Is extends ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zi(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qi(this.value.arrayValue,e)))}}class Ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Ns(e){return new Ds(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Rs(e){const t=Dr(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bs(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),di(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Qi(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Qi(e))).join(",")),t.ue=e}return t.ue}function Ls(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hs(e.startAt,t.startAt)&&hs(e.endAt,t.endAt)}function Ms(e){return Zr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Os{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fs(e,t,n,r,i,s,o,a){return new Os(e,t,n,r,i,s,o,a)}function js(e){return new Os(e)}function Vs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bs(e){return null!==e.collectionGroup}function Us(e){const t=Dr(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Pi(Jr.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ds(r,n))})),e.has(Jr.keyField().canonicalString())||t.ce.push(new ds(Jr.keyField(),n))}return t.ce}function zs(e){const t=Dr(e);return t.le||(t.le=$s(t,Us(e))),t.le}function $s(e,t){if("F"===e.limitType)return Ns(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ds(e.field,t)}));const n=e.endAt?new us(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new us(e.startAt.position,e.startAt.inclusive):null;return Ns(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Hs(e,t,n){return new Os(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qs(e,t){return Ls(zs(e),zs(t))&&e.limitType===t.limitType}function Ws(e){return`${Rs(zs(e))}|lt:${e.limitType}`}function Ks(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Ss(e))).join(", ")}]`),di(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Qi(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Qi(e))).join(",")),`Target(${t})`}(zs(e))}; limitType=${e.limitType})`}function Gs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Us(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Us(e),t))&&!(e.endAt&&!function(e,t,n){const r=cs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Us(e),t))}(e,t)}function Qs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ys(e){return(t,n)=>{let r=!1;for(const i of Us(e)){const e=Xs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Xs(e,t,n){const r=e.field.isKeyField()?Zr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wi(r,i):Ar()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ar()}}class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ti(this.inner)}size(){return this.innerSize}}const Zs=new Ci(Zr.comparator);function eo(){return Zs}const to=new Ci(Zr.comparator);function no(){let e=to;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ro(e){let t=to;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function io(){return oo()}function so(){return oo()}function oo(){return new Js((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ao=new Ci(Zr.comparator),lo=new Pi(Zr.comparator);function uo(){let e=lo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const co=new Pi(qr);function ho(){return co}function fo(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fi(t)?"-0":t}}function po(e){return{integerValue:""+e}}function mo(e,t){return pi(t)?po(t):fo(e,t)}class go{constructor(){this._=void 0}}function vo(e,t,n){return e instanceof bo?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fi(t)&&(t=ji(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof xo?So(e,t):e instanceof Eo?To(e,t):function(e,t){const n=wo(e,t),r=ko(n)+ko(e.Pe);return Ji(n)&&Ji(e.Pe)?po(r):fo(e.serializer,r)}(e,t)}function yo(e,t,n){return e instanceof xo?So(e,t):e instanceof Eo?To(e,t):n}function wo(e,t){return e instanceof Co?function(e){return Ji(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bo extends go{}class xo extends go{constructor(e){super(),this.elements=e}}function So(e,t){const n=_o(t);for(const r of e.elements)n.some((e=>Hi(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Eo extends go{constructor(e){super(),this.elements=e}}function To(e,t){let n=_o(t);for(const r of e.elements)n=n.filter((e=>!Hi(e,r)));return{arrayValue:{values:n}}}class Co extends go{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ko(e){return Mi(e.integerValue||e.doubleValue)}function _o(e){return Zi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Po{constructor(e,t){this.field=e,this.transform=t}}class Ao{constructor(e,t){this.version=e,this.transformResults=t}}class Io{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Do(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class No{}function Ro(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $o(e.key,Io.none()):new jo(e.key,e.data,Io.none());{const n=e.data,r=os.empty();let i=new Pi(Jr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Vo(e.key,r,new Ii(i.toArray()),Io.none())}}function Lo(e,t,n){e instanceof jo?function(e,t,n){const r=e.value.clone(),i=Uo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vo?function(e,t,n){if(!Do(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Uo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Mo(e,t,n,r){return e instanceof jo?function(e,t,n,r){if(!Do(e.precondition,t))return n;const i=e.value.clone(),s=zo(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vo?function(e,t,n,r){if(!Do(e.precondition,t))return n;const i=zo(e.fieldTransforms,r,t),s=t.data;return s.setAll(Bo(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Do(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Oo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=wo(r.transform,e||null);null!=i&&(null===n&&(n=os.empty()),n.set(r.field,i))}return n||null}function Fo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xo&&t instanceof xo||e instanceof Eo&&t instanceof Eo?Wr(e.elements,t.elements,Hi):e instanceof Co&&t instanceof Co?Hi(e.Pe,t.Pe):e instanceof bo&&t instanceof bo}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jo extends No{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vo extends No{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Bo(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Uo(e,t,n){const r=new Map;Ir(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,yo(o,a,n[i]))}return r}function zo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,vo(e,s,t))}return r}class $o extends No{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ho extends No{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Lo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Mo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Mo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=so();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ro(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Gr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),uo())}isEqual(e){return this.batchId===e.batchId&&Wr(this.mutations,e.mutations,((e,t)=>Fo(e,t)))&&Wr(this.baseMutations,e.baseMutations,((e,t)=>Fo(e,t)))}}class Wo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ir(e.mutations.length===n.length);let r=ao;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Wo(e,t,n,r)}}class Ko{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Go{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qo,Yo;function Xo(e){switch(e){default:return Ar();case Nr.CANCELLED:case Nr.UNKNOWN:case Nr.DEADLINE_EXCEEDED:case Nr.RESOURCE_EXHAUSTED:case Nr.INTERNAL:case Nr.UNAVAILABLE:case Nr.UNAUTHENTICATED:return!1;case Nr.INVALID_ARGUMENT:case Nr.NOT_FOUND:case Nr.ALREADY_EXISTS:case Nr.PERMISSION_DENIED:case Nr.FAILED_PRECONDITION:case Nr.ABORTED:case Nr.OUT_OF_RANGE:case Nr.UNIMPLEMENTED:case Nr.DATA_LOSS:return!0}}function Jo(e){if(void 0===e)return kr("GRPC error has no .code"),Nr.UNKNOWN;switch(e){case Qo.OK:return Nr.OK;case Qo.CANCELLED:return Nr.CANCELLED;case Qo.UNKNOWN:return Nr.UNKNOWN;case Qo.DEADLINE_EXCEEDED:return Nr.DEADLINE_EXCEEDED;case Qo.RESOURCE_EXHAUSTED:return Nr.RESOURCE_EXHAUSTED;case Qo.INTERNAL:return Nr.INTERNAL;case Qo.UNAVAILABLE:return Nr.UNAVAILABLE;case Qo.UNAUTHENTICATED:return Nr.UNAUTHENTICATED;case Qo.INVALID_ARGUMENT:return Nr.INVALID_ARGUMENT;case Qo.NOT_FOUND:return Nr.NOT_FOUND;case Qo.ALREADY_EXISTS:return Nr.ALREADY_EXISTS;case Qo.PERMISSION_DENIED:return Nr.PERMISSION_DENIED;case Qo.FAILED_PRECONDITION:return Nr.FAILED_PRECONDITION;case Qo.ABORTED:return Nr.ABORTED;case Qo.OUT_OF_RANGE:return Nr.OUT_OF_RANGE;case Qo.UNIMPLEMENTED:return Nr.UNIMPLEMENTED;case Qo.DATA_LOSS:return Nr.DATA_LOSS;default:return Ar()}}(Yo=Qo||(Qo={}))[Yo.OK=0]="OK",Yo[Yo.CANCELLED=1]="CANCELLED",Yo[Yo.UNKNOWN=2]="UNKNOWN",Yo[Yo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yo[Yo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yo[Yo.NOT_FOUND=5]="NOT_FOUND",Yo[Yo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yo[Yo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yo[Yo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yo[Yo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yo[Yo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yo[Yo.ABORTED=10]="ABORTED",Yo[Yo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yo[Yo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yo[Yo.INTERNAL=13]="INTERNAL",Yo[Yo.UNAVAILABLE=14]="UNAVAILABLE",Yo[Yo.DATA_LOSS=15]="DATA_LOSS";let Zo=null;function ea(){return new TextEncoder}const ta=new or([4294967295,4294967295],0);function na(e){const t=ea().encode(e),n=new ar;return n.update(t),new Uint8Array(n.digest())}function ra(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new or([n,r],0),new or([i,s],0)]}class ia{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sa(`Invalid padding: ${t}`);if(n<0)throw new sa(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new sa(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new sa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=or.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(or.fromNumber(n)));return 1===r.compare(ta)&&(r=new or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=na(e),[n,r]=ra(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ia(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=na(e),[n,r]=ra(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new oa(Gr.min(),r,new Ci(qr),eo(),uo())}}class aa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new aa(n,t,uo(),uo(),uo())}}class la{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ua{constructor(e,t){this.targetId=e,this.me=t}}class ca{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ha{constructor(){this.fe=0,this.ge=pa(),this.pe=Ni.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=uo(),t=uo(),n=uo();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ar()}})),new aa(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=pa()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ir(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class da{constructor(e){this.Le=e,this.Be=new Map,this.ke=eo(),this.qe=fa(),this.Qe=fa(),this.Ke=new Ci(qr)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Ar()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(Ms(i))if(0===n){const e=new Zr(i.path);this.We(t,e,ls.newNoDocument(e,Gr.min()))}else Ir(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Zo||Zo.tt(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Oi(n).toUint8Array()}catch(e){if(e instanceof Di)return _r("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ia(s,r,i)}catch(e){return _r(e instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ms(i.target)){const t=new Zr(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,ls.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=uo();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new oa(e,t,this.Ke,this.ke,n);return this.ke=eo(),this.qe=fa(),this.Qe=fa(),this.Ke=new Ci(qr),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ha,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Pi(qr),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pi(qr),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Cr("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ha),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fa(){return new Ci(Zr.comparator)}function pa(){return new Ci(Zr.comparator)}const ma={asc:"ASCENDING",desc:"DESCENDING"},ga={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},va={and:"AND",or:"OR"};class ya{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wa(e,t){return e.useProto3Json||di(t)?t:{value:t}}function ba(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xa(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sa(e,t){return ba(e,t.toTimestamp())}function Ea(e){return Ir(!!e),Gr.fromTimestamp(function(e){const t=Li(e);return new Kr(t.seconds,t.nanos)}(e))}function Ta(e,t){return Ca(e,t).canonicalString()}function Ca(e,t){const n=function(e){return new Yr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ka(e){const t=Yr.fromString(e);return Ir(Wa(t)),t}function _a(e,t){return Ta(e.databaseId,t.path)}function Pa(e,t){const n=ka(t);if(n.get(1)!==e.databaseId.projectId)throw new Rr(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rr(Nr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zr(Na(n))}function Aa(e,t){return Ta(e.databaseId,t)}function Ia(e){const t=ka(e);return 4===t.length?Yr.emptyPath():Na(t)}function Da(e){return new Yr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Na(e){return Ir(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ra(e,t,n){return{name:_a(e,t),fields:n.value.mapValue.fields}}function La(e,t){let n;if(t instanceof jo)n={update:Ra(e,t.key,t.value)};else if(t instanceof $o)n={delete:_a(e,t.key)};else if(t instanceof Vo)n={update:Ra(e,t.key,t.data),updateMask:qa(t.fieldMask)};else{if(!(t instanceof Ho))return Ar();n={verify:_a(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Co)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ar()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ar()}(e,t.precondition)),n}function Ma(e,t){return{documents:[Aa(e,t.path)]}}function Oa(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Aa(e,i);const s=function(e){if(0!==e.length)return Ha(gs.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:za(e.field),direction:Va(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wa(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function Fa(e){let t=Ia(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ir(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ja(e);return t instanceof gs&&ys(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ds($a(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,di(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new us(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new us(n,t)}(n.endAt)),Fs(t,i,o,s,a,"F",l,u)}function ja(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$a(e.unaryFilter.field);return ms.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=$a(e.unaryFilter.field);return ms.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$a(e.unaryFilter.field);return ms.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=$a(e.unaryFilter.field);return ms.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ar()}}(e):void 0!==e.fieldFilter?function(e){return ms.create($a(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ar()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gs.create(e.compositeFilter.filters.map((e=>ja(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ar()}}(e.compositeFilter.op))}(e):Ar()}function Va(e){return ma[e]}function Ba(e){return ga[e]}function Ua(e){return va[e]}function za(e){return{fieldPath:e.canonicalString()}}function $a(e){return Jr.fromServerFormat(e.fieldPath)}function Ha(e){return e instanceof ms?function(e){if("=="===e.op){if(ts(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NAN"}};if(es(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ts(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NAN"}};if(es(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(e.field),op:Ba(e.op),value:e.value}}}(e):e instanceof gs?function(e){const t=e.getFilters().map((e=>Ha(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ua(e.op),filters:t}}}(e):Ar()}function qa(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Wa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ka{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gr.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gr.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ni.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ga{constructor(e){this.ht=e}}function Qa(e){const t=Fa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hs(t,t.limit,"L"):t}class Ya{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(Mi(e.integerValue));else if("doubleValue"in e){const n=Mi(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),fi(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=Li(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Oi(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?ss(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):rs(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Ar()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(Mi(o)),this.gt(s,t),this.dt(i[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Zr.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}Ya.Ft=new Ya;class Xa{constructor(){this.ln=new Ja}addToCollectionParentIndex(e,t){return this.ln.add(t),li.resolve()}getCollectionParents(e,t){return li.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return li.resolve()}deleteFieldIndex(e,t){return li.resolve()}deleteAllFieldIndexes(e){return li.resolve()}createTargetIndexes(e,t){return li.resolve()}getDocumentsMatchingTarget(e,t){return li.resolve(null)}getIndexType(e,t){return li.resolve(0)}getFieldIndexes(e,t){return li.resolve([])}getNextCollectionGroupToUpdate(e){return li.resolve(null)}getMinOffset(e,t){return li.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,t){return li.resolve(ri.min())}updateCollectionGroup(e,t,n){return li.resolve()}updateIndexEntries(e,t){return li.resolve()}}class Ja{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pi(Yr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pi(Yr.comparator)).toArray()}}new Uint8Array(0);const Za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class el{static withCacheSize(e){return new el(e,el.DEFAULT_COLLECTION_PERCENTILE,el.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}el.DEFAULT_COLLECTION_PERCENTILE=10,el.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,el.DEFAULT=new el(41943040,el.DEFAULT_COLLECTION_PERCENTILE,el.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),el.DISABLED=new el(-1,0,0);class tl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new tl(0)}static Qn(){return new tl(-1)}}function nl(e,t){let[n,r]=e,[i,s]=t;const o=qr(n,i);return 0===o?qr(r,s):o}class rl{constructor(e){this.Gn=e,this.buffer=new Pi(nl),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();nl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class il{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){Cr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ci(e)?Cr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ai(e)}await this.Yn(3e5)}))}}class sl{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return li.resolve(hi.oe);const n=new rl(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; disabled"),li.resolve(Za)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Za):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Cr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Tr()<=Vt.DEBUG&&Cr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),li.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ol(e,t){return new sl(e,t)}class al{constructor(){this.changes=new Js((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ls.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?li.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ll{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ul{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Mo(n.mutation,e,Ii.empty(),Kr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,uo()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo();const r=io();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=no();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=io();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,uo())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=eo();const s=oo(),o=oo();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Vo)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Mo(o.mutation,t,o.mutation.getFieldMask(),Kr.now())):s.set(t.key,Ii.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ll(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=oo();let r=new Ci(((e,t)=>e-t)),i=uo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ii.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||uo()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=so();l.forEach((e=>{if(!i.has(e)){const r=Ro(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return li.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):li.resolve(io());let o=-1,a=i;return s.next((t=>li.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?li.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,uo()))).next((e=>({batchId:o,changes:ro(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zr(t)).next((e=>{let t=no();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=no();return this.indexManager.getCollectionParents(e,i).next((o=>li.forEach(o,(o=>{const a=function(e,t){return new Os(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ls.newInvalidDocument(r)))}));let n=no();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Mo(s.mutation,r,Ii.empty(),Kr.now()),Gs(t,r)&&(n=n.insert(e,r))})),n}))}}class cl{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return li.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ea(e.createTime)}}(t)),li.resolve()}getNamedQuery(e,t){return li.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:Qa(e.bundledQuery),readTime:Ea(e.readTime)}}(t)),li.resolve()}}class hl{constructor(){this.overlays=new Ci(Zr.comparator),this.Er=new Map}getOverlay(e,t){return li.resolve(this.overlays.get(t))}getOverlays(e,t){const n=io();return li.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),li.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),li.resolve()}getOverlaysForCollection(e,t,n){const r=io(),i=t.length+1,s=new Zr(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return li.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ci(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=io(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=io(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return li.resolve(o)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ko(t,n));let i=this.Er.get(t);void 0===i&&(i=uo(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class dl{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(e){return li.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,li.resolve()}}class fl{constructor(){this.dr=new Pi(pl.Ar),this.Rr=new Pi(pl.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new pl(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new pl(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Zr(new Yr([])),n=new pl(t,e),r=new pl(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Zr(new Yr([])),n=new pl(t,e),r=new pl(t,e+1);let i=uo();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new pl(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class pl{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Zr.comparator(e.key,t.key)||qr(e.br,t.br)}static Vr(e,t){return qr(e.br,t.br)||Zr.comparator(e.key,t.key)}}class ml{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pi(pl.Ar)}checkEmpty(e){return li.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qo(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.vr=this.vr.add(new pl(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return li.resolve(s)}lookupMutationBatch(e,t){return li.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return li.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return li.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return li.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pl(t,0),r=new pl(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),li.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pi(qr);return t.forEach((e=>{const t=new pl(e,0),r=new pl(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),li.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zr.isDocumentKey(i)||(i=i.child(""));const s=new pl(new Zr(i),0);let o=new Pi(qr);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.br)),!0)}),s),li.resolve(this.Mr(o))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ir(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return li.forEach(t.mutations,(r=>{const i=new pl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new pl(t,0),r=this.vr.firstAfterOrEqual(n);return li.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,li.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gl{constructor(e){this.Nr=e,this.docs=new Ci(Zr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return li.resolve(n?n.document.mutableCopy():ls.newInvalidDocument(t))}getEntries(e,t){let n=eo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ls.newInvalidDocument(e))})),li.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=eo();const s=t.path,o=new Zr(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ii(ni(o),n)<=0||(r.has(o.key)||Gs(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return li.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ar()}Lr(e,t){return li.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new vl(this)}getSize(e){return li.resolve(this.size)}}class vl extends al{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),li.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class yl{constructor(e){this.persistence=e,this.Br=new Js((e=>Rs(e)),Ls),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.kr=0,this.qr=new fl,this.targetCount=0,this.Qr=tl.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),li.resolve()}getLastRemoteSnapshotVersion(e){return li.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return li.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),li.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),li.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,li.resolve()}updateTargetData(e,t){return this.Un(t),li.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,li.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),li.waitFor(i).next((()=>r))}getTargetCount(e){return li.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return li.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),li.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),li.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),li.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return li.resolve(n)}containsKey(e,t){return li.resolve(this.qr.containsKey(t))}}class wl{constructor(e,t){this.Kr={},this.overlays={},this.$r=new hi(0),this.Ur=!1,this.Ur=!0,this.Wr=new dl,this.referenceDelegate=e(this),this.Gr=new yl(this),this.indexManager=new Xa,this.remoteDocumentCache=function(e){return new gl(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new Ga(t),this.jr=new cl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new ml(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){Cr("MemoryPersistence","Starting transaction:",e);const r=new bl(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return li.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class bl extends oi{constructor(e){super(),this.currentSequenceNumber=e}}class xl{constructor(e){this.persistence=e,this.Zr=new fl,this.Xr=null}static ei(e){return new xl(e)}get ti(){if(this.Xr)return this.Xr;throw Ar()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),li.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),li.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),li.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return li.forEach(this.ti,(n=>{const r=Zr.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Gr.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return li.or([()=>li.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Sl{constructor(e,t){this.persistence=e,this.ri=new Js((e=>mi(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ol(this,t)}static ei(e,t){return new Sl(e,t)}Hr(){}Jr(e){return li.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return li.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?li.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Gr.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),li.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),li.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),li.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),li.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xi(e.data.value)),t}ir(e,t,n){return li.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return li.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class El{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=uo(),r=uo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new El(e,t.fromCache,n,r)}}class Tl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cl{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=kt()?8:ui(Ct())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Tl;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(Tr()<=Vt.DEBUG&&Cr("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),li.resolve()):(Tr()<=Vt.DEBUG&&Cr("QueryEngine","Query:",Ks(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(Tr()<=Vt.DEBUG&&Cr("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(t))):li.resolve())}Xi(e,t){if(Vs(t))return li.resolve(null);let n=zs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Hs(t,null,"F"),n=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=uo(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,Hs(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,r){return Vs(t)||r.isEqual(Gr.min())?li.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const s=this.rs(t,i);return this.ss(t,s,n,r)?li.resolve(null):(Tr()<=Vt.DEBUG&&Cr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ks(t)),this.os(e,s,t,ti(r,-1)).next((e=>e)))}))}rs(e,t){let n=new Pi(Ys(e));return t.forEach(((t,r)=>{Gs(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return Tr()<=Vt.DEBUG&&Cr("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.Zi.getDocumentsMatchingQuery(e,t,ri.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class kl{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new Ci(qr),this.cs=new Js((e=>Rs(e)),Ls),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ul(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function _l(e,t,n,r){return new kl(e,t,n,r)}async function Pl(e,t){const n=Dr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=uo();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Al(e){const t=Dr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Il(e,t,n){let r=uo(),i=uo();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=eo();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Gr.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Cr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Is:r,Es:i}}))}function Dl(e,t){const n=Dr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Nl(e,t){const n=Dr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,li.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new Ka(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Rl(e,t,n){const r=Dr(e),i=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ci(e))throw e;Cr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.us=r.us.remove(t),r.cs.delete(i.target)}function Ll(e,t,n){const r=Dr(e);let i=Gr.min(),s=uo();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Dr(e),i=r.cs.get(n);return void 0!==i?li.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,zs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:Gr.min(),n?s:uo()))).next((e=>(Ml(r,Qs(t),e),{documents:e,ds:s})))))}function Ml(e,t,n){let r=e.ls.get(t)||Gr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}class Ol{constructor(){this.activeTargetIds=ho()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fl{constructor(){this._o=new Ol,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ol,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jl{uo(e){}shutdown(){}}class Vl{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Cr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Cr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bl=null;function Ul(){return null===Bl?Bl=268435456+Math.round(2147483648*Math.random()):Bl++,"0x"+Bl.toString(16)}const zl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $l{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const Hl="WebChannelConnection";class ql extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(e,t,n,r,i){const s=Ul(),o=this.No(e,t.toUriEncodedString());Cr("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,r,i),this.Bo(e,o,a,n).then((t=>(Cr("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw _r("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=zl[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=Ul();return new Promise(((s,o)=>{const a=new cr;a.setWithCredentials(!0),a.listenOnce(dr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case fr.NO_ERROR:const t=a.getResponseJson();Cr(Hl,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case fr.TIMEOUT:Cr(Hl,`RPC '${e}' ${i} timed out`),o(new Rr(Nr.DEADLINE_EXCEEDED,"Request time out"));break;case fr.HTTP_ERROR:const n=a.getStatus();if(Cr(Hl,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nr).indexOf(t)>=0?t:Nr.UNKNOWN}(t.status);o(new Rr(e,t.message))}else o(new Rr(Nr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Rr(Nr.UNAVAILABLE,"Connection failed."));break;default:Ar()}}finally{Cr(Hl,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Cr(Hl,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=Ul(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vr(),o=gr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Cr(Hl,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new $l({Eo:t=>{d?Cr(Hl,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Cr(Hl,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Cr(Hl,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Ao:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,hr.EventType.OPEN,(()=>{d||(Cr(Hl,`RPC '${e}' stream ${r} transport opened.`),f.So())})),p(c,hr.EventType.CLOSE,(()=>{d||(d=!0,Cr(Hl,`RPC '${e}' stream ${r} transport closed`),f.Do())})),p(c,hr.EventType.ERROR,(t=>{d||(d=!0,_r(Hl,`RPC '${e}' stream ${r} transport errored:`,t),f.Do(new Rr(Nr.UNAVAILABLE,"The operation could not be completed")))})),p(c,hr.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Ir(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Cr(Hl,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Qo[e];if(void 0!==t)return Jo(t)}(t),i=o.message;void 0===n&&(n=Nr.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Do(new Rr(n,i)),c.close()}else Cr(Hl,`RPC '${e}' stream ${r} received:`,i),f.vo(i)}})),p(o,mr.STAT_EVENT,(t=>{t.stat===pr.PROXY?Cr(Hl,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===pr.NOPROXY&&Cr(Hl,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function Wl(){return"undefined"!=typeof document?document:null}function Kl(e){return new ya(e,!0)}class Gl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&Cr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Ql{constructor(e,t,n,r,i,s,o,a){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Gl(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===Nr.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Nr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new Rr(Nr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return Cr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(Cr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yl extends Ql{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ar()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Ir(void 0===t||"string"==typeof t),Ni.fromBase64String(t||"")):(Ir(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Ni.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Nr.UNKNOWN:Jo(e.code);return new Rr(t,e.message||"")}(o);n=new ca(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pa(e,r.document.name),s=Ea(r.document.updateTime),o=r.document.createTime?Ea(r.document.createTime):Gr.min(),a=new os({mapValue:{fields:r.document.fields}}),l=ls.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new la(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Pa(e,r.document),s=r.readTime?Ea(r.readTime):Gr.min(),o=ls.newNoDocument(i,s),a=r.removedTargetIds||[];n=new la([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Pa(e,r.document),s=r.removedTargetIds||[];n=new la([],s,i,null)}else{if(!("filter"in t))return Ar();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Go(r,i),o=e.targetId;n=new ua(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Gr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Gr.min():t.readTime?Ea(t.readTime):Gr.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=Da(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ms(r)?{documents:Ma(e,r)}:{query:Oa(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xa(e,t.resumeToken);const r=wa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Gr.min())>0){n.readTime=ba(e,t.snapshotVersion.toTimestamp());const r=wa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ar()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=Da(this.serializer),t.removeTarget=e,this.c_(t)}}class Xl extends Ql{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,Ir(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(Ir(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ea(e.updateTime):Ea(t);return n.isEqual(Gr.min())&&(n=Ea(t)),new Ao(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ea(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=Da(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>La(this.serializer,e)))};this.c_(t)}}class Jl extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new Rr(Nr.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Oo(e,Ca(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Nr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rr(Nr.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.ko(e,Ca(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Nr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rr(Nr.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Zl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(kr(t),this.C_=!1):Cr("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class eu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{uu(this)&&(Cr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Dr(e);t.k_.add(4),await nu(t),t.K_.set("Unknown"),t.k_.delete(4),await tu(t)}(this))}))})),this.K_=new Zl(n,r)}}async function tu(e){if(uu(e))for(const t of e.q_)await t(!0)}async function nu(e){for(const t of e.q_)await t(!1)}function ru(e,t){const n=Dr(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),lu(n)?au(n):Pu(n).s_()&&su(n,t))}function iu(e,t){const n=Dr(e),r=Pu(n);n.B_.delete(t),r.s_()&&ou(n,t),0===n.B_.size&&(r.s_()?r.a_():uu(n)&&n.K_.set("Unknown"))}function su(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Pu(e).V_(t)}function ou(e,t){e.U_.xe(t),Pu(e).m_(t)}function au(e){e.U_=new da({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Pu(e).start(),e.K_.F_()}function lu(e){return uu(e)&&!Pu(e).i_()&&e.B_.size>0}function uu(e){return 0===Dr(e).k_.size}function cu(e){e.U_=void 0}async function hu(e){e.K_.set("Online")}async function du(e){e.B_.forEach(((t,n)=>{su(e,t)}))}async function fu(e,t){cu(e),lu(e)?(e.K_.O_(t),au(e)):e.K_.set("Unknown")}async function pu(e,t,n){if(e.K_.set("Online"),t instanceof ca&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){Cr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await mu(e,n)}else if(t instanceof la?e.U_.$e(t):t instanceof ua?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Gr.min()))try{const t=await Al(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(Ni.EMPTY_BYTE_STRING,r.snapshotVersion)),ou(e,t);const i=new Ka(r.target,t,n,r.sequenceNumber);su(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Cr("RemoteStore","Failed to raise snapshot:",t),await mu(e,t)}}async function mu(e,t,n){if(!ci(t))throw t;e.k_.add(1),await nu(e),e.K_.set("Offline"),n||(n=()=>Al(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Cr("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await tu(e)}))}function gu(e,t){return t().catch((n=>mu(e,n,t)))}async function vu(e){const t=Dr(e),n=Au(t);let r=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;yu(t);)try{const e=await Dl(t.localStore,r);if(null===e){0===t.L_.length&&n.a_();break}r=e.batchId,wu(t,e)}catch(e){await mu(t,e)}bu(t)&&xu(t)}function yu(e){return uu(e)&&e.L_.length<10}function wu(e,t){e.L_.push(t);const n=Au(e);n.s_()&&n.f_&&n.g_(t.mutations)}function bu(e){return uu(e)&&!Au(e).i_()&&e.L_.length>0}function xu(e){Au(e).start()}async function Su(e){Au(e).w_()}async function Eu(e){const t=Au(e);for(const n of e.L_)t.g_(n.mutations)}async function Tu(e,t,n){const r=e.L_.shift(),i=Wo.from(r,t,n);await gu(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vu(e)}async function Cu(e,t){t&&Au(e).f_&&await async function(e,t){if(function(e){return Xo(e)&&e!==Nr.ABORTED}(t.code)){const n=e.L_.shift();Au(e).__(),await gu(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vu(e)}}(e,t),bu(e)&&xu(e)}async function ku(e,t){const n=Dr(e);n.asyncQueue.verifyOperationInProgress(),Cr("RemoteStore","RemoteStore received new credentials");const r=uu(n);n.k_.add(3),await nu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await tu(n)}async function _u(e,t){const n=Dr(e);t?(n.k_.delete(2),await tu(n)):t||(n.k_.add(2),await nu(n),n.K_.set("Unknown"))}function Pu(e){return e.W_||(e.W_=function(e,t,n){const r=Dr(e);return r.b_(),new Yl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:hu.bind(null,e),mo:du.bind(null,e),po:fu.bind(null,e),R_:pu.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),lu(e)?au(e):e.K_.set("Unknown")):(await e.W_.stop(),cu(e))}))),e.W_}function Au(e){return e.G_||(e.G_=function(e,t,n){const r=Dr(e);return r.b_(),new Xl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:Su.bind(null,e),po:Cu.bind(null,e),p_:Eu.bind(null,e),y_:Tu.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await vu(e)):(await e.G_.stop(),e.L_.length>0&&(Cr("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))}))),e.G_}class Iu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Iu(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rr(Nr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Du(e,t){if(kr("AsyncQueue",`${t}: ${e}`),ci(e))return new Rr(Nr.UNAVAILABLE,`${t}: ${e}`);throw e}class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zr.comparator(t.key,n.key):(e,t)=>Zr.comparator(e.key,t.key),this.keyedMap=no(),this.sortedSet=new Ci(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Nu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ru{constructor(){this.z_=new Ci(Zr.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ar():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Lu{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Lu(e,t,Nu.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Mu{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class Ou{constructor(){this.queries=Fu(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=Dr(e),r=n.queries;n.queries=Fu(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new Rr(Nr.ABORTED,"Firestore shutting down"))}}function Fu(){return new Js((e=>Ws(e)),qs)}async function ju(e,t){const n=Dr(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new Mu,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Du(e,`Initialization of query '${Ks(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&zu(n)}async function Vu(e,t){const n=Dr(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bu(e,t){const n=Dr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&zu(n)}function Uu(e,t,n){const r=Dr(e),i=r.queries.get(t);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(t)}function zu(e){e.X_.forEach((e=>{e.next()}))}var $u,Hu;(Hu=$u||($u={})).na="default",Hu.Cache="cache";class qu{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Lu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=Lu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$u.Cache}}class Wu{constructor(e){this.key=e}}class Ku{constructor(e){this.key=e}}class Gu{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=uo(),this.mutatedKeys=uo(),this.Va=Ys(e),this.ma=new Nu(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new Ru,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Gs(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ya(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Va(c,a)>0||l&&this.Va(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:o,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ar()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const o=t&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,l=a!==this.Aa;return this.Aa=a,0!==s.length||l?{snapshot:new Lu(this.query,e.ma,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ru,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=uo(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Ku(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Wu(n))})),t}va(e){this.da=e.ds,this.Ra=uo();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Lu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Qu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Yu{constructor(e){this.key=e,this.Fa=!1}}class Xu{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Js((e=>Ws(e)),qs),this.Oa=new Map,this.Na=new Set,this.La=new Ci(Zr.comparator),this.Ba=new Map,this.ka=new fl,this.qa={},this.Qa=new Map,this.Ka=tl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Ju(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wc(e);let i;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await ec(r,t,n,!0),i}async function Zu(e,t){const n=wc(e);await ec(n,t,!0,!1)}async function ec(e,t,n,r){const i=await Nl(e.localStore,zs(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await tc(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&ru(e.remoteStore,i),a}async function tc(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await Ll(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return fc(e,t.targetId,a.ba),a.snapshot}(e,t,n,r);const s=await Ll(e.localStore,t,!0),o=new Gu(t,s.ds),a=o.ga(s.documents),l=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);fc(e,n,u.ba);const c=new Qu(t,n,o);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function nc(e,t,n){const r=Dr(e),i=r.xa.get(t),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((e=>!qs(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iu(r.remoteStore,i.targetId),hc(r,i.targetId)})).catch(ai)):(hc(r,i.targetId),await Rl(r.localStore,i.targetId,!0))}async function rc(e,t){const n=Dr(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iu(n.remoteStore,r.targetId))}async function ic(e,t){const n=Dr(e);try{const e=await function(e,t){const n=Dr(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Ni.EMPTY_BYTE_STRING,Gr.min()).withLastLimboFreeSnapshotVersion(Gr.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Gr.updateTargetData(e,u))}));let a=eo(),l=uo();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Il(e,s,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!r.isEqual(Gr.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return li.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(Ir(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?Ir(r.Fa):e.removedDocuments.size>0&&(Ir(r.Fa),r.Fa=!1))})),await gc(n,e,t)}catch(e){await ai(e)}}function sc(e,t,n){const r=Dr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Dr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&zu(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oc(e,t,n){const r=Dr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),s=i&&i.key;if(s){let e=new Ci(Zr.comparator);e=e.insert(s,ls.newNoDocument(s,Gr.min()));const n=uo().add(s),i=new oa(Gr.min(),new Map,new Ci(qr),e,n);await ic(r,i),r.La=r.La.remove(s),r.Ba.delete(t),mc(r)}else await Rl(r.localStore,t,!1).then((()=>hc(r,t,n))).catch(ai)}async function ac(e,t){const n=Dr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Dr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=li.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ir(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=uo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);cc(n,r,null),uc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gc(n,e)}catch(e){await ai(e)}}async function lc(e,t,n){const r=Dr(e);try{const e=await function(e,t){const n=Dr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Ir(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);cc(r,t,n),uc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await gc(r,e)}catch(n){await ai(n)}}function uc(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function cc(e,t,n){const r=Dr(e);let i=r.qa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.qa[r.currentUser.toKey()]=i}}function hc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||dc(e,t)}))}function dc(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(iu(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),mc(e))}function fc(e,t,n){for(const r of n)r instanceof Wu?(e.ka.addReference(r.key,t),pc(e,r)):r instanceof Ku?(Cr("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||dc(e,r.key)):Ar()}function pc(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(Cr("SyncEngine","New document in limbo: "+n),e.Na.add(r),mc(e))}function mc(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Zr(Yr.fromString(t)),r=e.Ka.next();e.Ba.set(r,new Yu(n)),e.La=e.La.insert(n,r),ru(e.remoteStore,new Ka(zs(js(n.path)),r,"TargetPurposeLimboResolution",hi.oe))}}async function gc(e,t,n){const r=Dr(e),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach(((e,a)=>{o.push(r.Ua(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=El.zi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ma.R_(i),await async function(e,t){const n=Dr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>li.forEach(t,(t=>li.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>li.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ci(e))throw e;Cr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,s))}async function vc(e,t){const n=Dr(e);if(!n.currentUser.isEqual(t)){Cr("SyncEngine","User change. New user:",t.toKey());const e=await Pl(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new Rr(Nr.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gc(n,e.Ts)}}function yc(e,t){const n=Dr(e),r=n.Ba.get(t);if(r&&r.Fa)return uo().add(r.key);{let e=uo();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}function wc(e){const t=Dr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ic.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oc.bind(null,t),t.Ma.R_=Bu.bind(null,t.eventManager),t.Ma.Wa=Uu.bind(null,t.eventManager),t}function bc(e){const t=Dr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lc.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kl(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return _l(this.persistence,new Cl,e.initialUser,this.serializer)}ja(e){return new wl(xl.ei,this.serializer)}za(e){return new Fl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class Sc extends xc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ir(this.persistence.referenceDelegate instanceof Sl);const n=this.persistence.referenceDelegate.garbageCollector;return new il(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?el.withCacheSize(this.cacheSizeBytes):el.DEFAULT;return new wl((e=>Sl.ei(e,t)),this.serializer)}}class Ec{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vc.bind(null,this.syncEngine),await _u(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ou}createDatastore(e){const t=Kl(e.databaseInfo.databaseId),n=function(e){return new ql(e)}(e.databaseInfo);return function(e,t,n,r){return new Jl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new eu(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>sc(this.syncEngine,e,0)),Vl.p()?new Vl:new jl)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Xu(e,t,n,r,i,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Dr(e);Cr("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await nu(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ec.provider={build:()=>new Ec};class Tc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Cc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xr.UNAUTHENTICATED,this.clientId=Hr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Cr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Cr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(ve){const n=Du(ve,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kc(e,t){e.asyncQueue.verifyOperationInProgress(),Cr("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function _c(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Pc(e);Cr("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ku(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ku(t.remoteStore,n))),e._onlineComponents=t}async function Pc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Cr("FirestoreClient","Using user provided OfflineComponentProvider");try{await kc(e,e._uninitializedComponentsProvider._offline)}catch(ve){const n=ve;if(!function(e){return"FirebaseError"===e.name?e.code===Nr.FAILED_PRECONDITION||e.code===Nr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;_r("Error using user provided cache. Falling back to memory cache: "+n),await kc(e,new xc)}}else Cr("FirestoreClient","Using default OfflineComponentProvider"),await kc(e,new Sc(void 0));return e._offlineComponents}async function Ac(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Cr("FirestoreClient","Using user provided OnlineComponentProvider"),await _c(e,e._uninitializedComponentsProvider._online)):(Cr("FirestoreClient","Using default OnlineComponentProvider"),await _c(e,new Ec))),e._onlineComponents}function Ic(e){return Ac(e).then((e=>e.syncEngine))}async function Dc(e){const t=await Ac(e),n=t.eventManager;return n.onListen=Ju.bind(null,t.syncEngine),n.onUnlisten=nc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Zu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rc.bind(null,t.syncEngine),n}function Nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Lr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Tc({next:a=>{s.eu(),t.enqueueAndForget((()=>Vu(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Rr(Nr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Rr(Nr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new qu(js(n.path),s,{includeMetadataChanges:!0,ua:!0});return ju(e,o)}(await Dc(e),e.asyncQueue,t,n,r))),r.promise}function Rc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Lc=new Map;function Mc(e,t,n){if(!n)throw new Rr(Nr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Oc(e){if(!Zr.isDocumentKey(e))throw new Rr(Nr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Fc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ar()}function jc(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rr(Nr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fc(e);throw new Rr(Nr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Vc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rr(Nr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rr(Nr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Rr(Nr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rr(Nr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Rr(Nr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Rr(Nr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rr(Nr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rr(Nr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Or;switch(e.type){case"firstParty":return new Br(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rr(Nr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Lc.get(e);t&&(Cr("ComponentProvider","Removing Datastore"),Lc.delete(e),t.terminate())}(this),Promise.resolve()}}function Uc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=jc(e,Bc))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xr.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Rr(Nr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xr(s)}e._authCredentials=new Fr(new Mr(t,n))}}class zc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zc(this.firestore,e,this._query)}}class $c{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $c(this.firestore,e,this._key)}}class Hc extends zc{constructor(e,t,n){super(e,t,js(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $c(this.firestore,null,new Zr(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function qc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rt(e),1===arguments.length&&(t=Hr.newId()),Mc("doc","path",t),e instanceof Bc){const n=Yr.fromString(t,...r);return Oc(n),new $c(e,null,new Zr(n))}{if(!(e instanceof $c||e instanceof Hc))throw new Rr(Nr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yr.fromString(t,...r));return Oc(n),new $c(e.firestore,e instanceof Hc?e.converter:null,new Zr(n))}}class Wc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Gl(this,"async_queue_retry"),this.fu=()=>{const e=Wl();e&&Cr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=Wl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new Lr;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(ge){if(!ci(ge))throw ge;Cr("AsyncQueue","Operation failed with retryable error: "+ge)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=Iu.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&Ar()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Kc extends Bc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wc(e),this._firestoreClient=void 0,await e}}}function Gc(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;const t=Bn.get(e);if(!t&&e===jn&&Et())return Gn();if(!t)throw Wn.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=qn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=St("firestore");e&&Uc(i,...e)}return i}function Qc(e){if(e._terminated)throw new Rr(Nr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Yc(e),e._firestoreClient}function Yc(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Bi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Rc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Cc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(Ni.fromBase64String(e))}catch(e){throw new Rr(Nr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Xc(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Rr(Nr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zc{constructor(e){this._methodName=e}}class eh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rr(Nr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rr(Nr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}}class th{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const nh=/^__.*__$/;class rh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new jo(e,this.data,t,this.fieldTransforms)}}class ih{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ar()}}class oh{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(sh(this.Mu)&&nh.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ah{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Kl(e)}$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new oh({Mu:e,methodName:t,Ku:n,path:Jr.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(e){const t=e._freezeSettings(),n=Kl(e._databaseId);return new ah(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uh(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.$u(s.merge||s.mergeFields?2:0,t,n,i);yh("Data must be an object, but it was:",o,r);const a=gh(r,o);let l,u;if(s.merge)l=new Ii(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wh(t,r,n);if(!o.contains(i))throw new Rr(Nr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Eh(e,i)||e.push(i)}l=new Ii(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new rh(new os(a),l,u)}class ch extends Zc{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function hh(e,t,n){return new oh({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dh extends Zc{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=hh(this,e,!0),n=this.Uu.map((e=>mh(e,t))),r=new xo(n);return new Po(e.path,r)}isEqual(e){return e instanceof dh&&Dt(this.Uu,e.Uu)}}function fh(e,t,n,r){const i=e.$u(1,t,n);yh("Data must be an object, but it was:",i,r);const s=[],o=os.empty();Ei(r,((e,r)=>{const a=xh(t,e,n);r=Rt(r);const l=i.Bu(a);if(r instanceof ch)s.push(a);else{const e=mh(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ii(s);return new ih(o,a,i.fieldTransforms)}function ph(e,t,n,r,i,s){const o=e.$u(1,t,n),a=[wh(t,r,n)],l=[i];if(s.length%2!=0)throw new Rr(Nr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(wh(t,s[d])),l.push(s[d+1]);const u=[],c=os.empty();for(let d=a.length-1;d>=0;--d)if(!Eh(u,a[d])){const e=a[d];let t=l[d];t=Rt(t);const n=o.Bu(e);if(t instanceof ch)u.push(e);else{const r=mh(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Ii(u);return new ih(c,h,o.fieldTransforms)}function mh(e,t){if(vh(e=Rt(e)))return yh("Unsupported field value:",t,e),gh(e,t);if(e instanceof Zc)return function(e,t){if(!sh(t.Mu))throw t.qu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=mh(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Rt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mo(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Kr.fromDate(e);return{timestampValue:ba(t.serializer,n)}}if(e instanceof Kr){const n=new Kr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ba(t.serializer,n)}}if(e instanceof eh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Xc)return{bytesValue:xa(t.serializer,e._byteString)};if(e instanceof $c){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ta(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof th)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return fo(t.serializer,e)}))}}}}}}(e,t);throw t.qu(`Unsupported field value: ${Fc(e)}`)}(e,t)}function gh(e,t){const n={};return Ti(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ei(e,((e,r)=>{const i=mh(r,t.Ou(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Kr||e instanceof eh||e instanceof Xc||e instanceof $c||e instanceof Zc||e instanceof th)}function yh(e,t,n){if(!vh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Fc(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function wh(e,t,n){if((t=Rt(t))instanceof Jc)return t._internalPath;if("string"==typeof t)return xh(e,t);throw Sh("Field path arguments must be of type string or ",e,!1,void 0,n)}const bh=new RegExp("[~\\*/\\[\\]]");function xh(e,t,n){if(t.search(bh)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jc(...t.split("."))._internalPath}catch(r){throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Sh(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Rr(Nr.INVALID_ARGUMENT,a+e+l)}function Eh(e,t){return e.some((e=>e.isEqual(t)))}class Th{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $c(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ch(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ch extends Th{data(){return super.data()}}function kh(e,t){return"string"==typeof t?xh(e,t):t instanceof Jc?t._internalPath:t._delegate._internalPath}class _h{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ar()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ei(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Mi(e.doubleValue)));return new th(i)}convertGeoPoint(e){return new eh(Mi(e.latitude),Mi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ji(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vi(e));default:return null}}convertTimestamp(e){const t=Li(e);return new Kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yr.fromString(e);Ir(Wa(n));const r=new Ui(n.get(1),n.get(3)),i=new Zr(n.popFirst(5));return r.isEqual(t)||kr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Ph(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ah{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ih extends Th{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Dh extends Ih{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}function Nh(e){e=jc(e,$c);const t=jc(e.firestore,Kc);return Nc(Qc(t),e._key).then((n=>Oh(t,e,n)))}class Rh extends _h{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $c(this.firestore,null,t)}}function Lh(e,t,n){e=jc(e,$c);const r=jc(e.firestore,Kc),i=Ph(e.converter,t,n);return Mh(r,[uh(lh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Io.none())])}function Mh(e,t){return function(e,t){const n=new Lr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bc(e);try{const e=await function(e,t){const n=Dr(e),r=Kr.now(),i=t.reduce(((e,t)=>e.add(t.key)),uo());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=eo(),l=uo();return n.hs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Oo(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Vo(e.key,t,as(t.value.mapValue),Io.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:ro(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.qa[e.currentUser.toKey()];r||(r=new Ci(qr)),r=r.insert(t,n),e.qa[e.currentUser.toKey()]=r}(r,e.batchId,n),await gc(r,e.changes),await vu(r.remoteStore)}catch(e){const t=Du(e,"Failed to persist write");n.reject(t)}}(await Ic(e),t,n))),n.promise}(Qc(e),t)}function Oh(e,t,n){const r=n.docs.get(t._key),i=new Rh(e);return new Ih(e,i,t._key,r,new Ah(n.hasPendingWrites,n.fromCache),t.converter)}function Fh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dh("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sr=e}("11.0.2"),Hn(new Lt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Kc(new jr(e.getProvider("auth-internal")),new zr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rr(Nr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ui(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Qn(br,"4.7.5",e),Qn(br,"4.7.5","esm2017")}();const jh="https://flipisfun.com",Vh=[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14,15,16]],Bh={1:"F",2:"I",3:"L",4:"M",5:"L",6:"E",7:"N",8:"S",9:"PR",10:"I",11:"N",12:"T",13:"S",14:"TU",15:"D",16:"IO"},Uh=[[10,6,9,3],[11,2,12,16],[8,4,5,15],[7,14,1,13]],zh="Photography";var $h=n(579);const Hh=e=>{let{theme:t,onShowInstructions:n}=e;return(0,$h.jsxs)("div",{className:"text-center space-y-1",children:[(0,$h.jsx)("h1",{className:"text-7xl md:text-8xl font-bold text-gray-800 transition-all lg:mb-2",children:"Flip"}),(0,$h.jsxs)("h2",{className:"text-lg font-bold md:text-lg text-blue-600 transition-all",children:["Today's Theme: ",t]}),(0,$h.jsxs)("div",{className:"m-4",children:[(0,$h.jsxs)("p",{className:"text-xs md:text-base text-gray-700",children:[(0,$h.jsx)("span",{className:"text-blue-400 font-bold",children:"Flip"})," or ",(0,$h.jsx)("span",{className:"text-blue-400 font-bold",children:"swap"})," rows or columns."]}),(0,$h.jsxs)("p",{className:"text-xs md:text-base text-gray-700",children:["Each ",(0,$h.jsx)("span",{className:"text-blue-400 font-bold",children:"row"})," is a word related to ",(0,$h.jsxs)("span",{className:"text-blue-400 font-bold",children:['"',t,'."']})]}),(0,$h.jsxs)("p",{className:"text-xs md:text-base text-gray-700",children:["The solved board is in ",(0,$h.jsx)("span",{className:"text-blue-400 font-bold",children:"alphabetical order"}),"."]})]}),(0,$h.jsx)("button",{onClick:n,className:"text-lg md:text-lg text-blue-500 hover:text-blue-600 transition-colors underline",children:"How to Play"})]})},qh=e=>{let{num:t,rowIndex:n,colIndex:r,isFrozen:i,isFrozenRow:s,isFirstRow:o,isFirstCol:a,onFlip:l,onDragStart:u,highlightClass:c,isFlipping:h,flipType:d}=e;const f=Bh[t],p=s||i||!h?"":"row"===d?"flip-horizontal-animation":"col"===d?"flip-vertical-animation":"";return(0,$h.jsx)("div",{"data-row":n,"data-col":r,className:"relative w-full h-full",children:(0,$h.jsx)("div",{onMouseDown:e=>{s||i||(e.preventDefault(),u(e.clientX,e.clientY,n,r))},onTouchStart:e=>{if(!s&&!i){const t=e.touches[0];u(t.clientX,t.clientY,n,r)}},className:`absolute inset-0\n          flex items-center justify-center\n          rounded-lg\n          text-xl md:text-2xl font-bold\n          ${s?"cursor-not-allowed opacity-90":"cursor-pointer"}\n          ${c||"bg-white"}\n          select-none touch-none\n          transition-all duration-200\n          ${s||i?"":"hover:bg-gray-100"}\n          ${p}\n        `,children:f})})},Wh=e=>e.map((e=>Bh[e])).join(""),Kh=e=>{let{num:t,rowIndex:n,colIndex:r,isFrozen:i,isFrozenRow:s,isFirstRow:o,isFirstCol:a,onFlip:l,onDragStart:u,dragState:c,isFlipping:h,flipType:d,currentGrid:f,solution:p,easyMode:m}=e;const g=c.isDragging&&("horizontal"===c.direction&&c.highlightedIndices.includes(r)||"vertical"===c.direction&&c.highlightedIndices.includes(n));return(0,$h.jsx)("div",{className:"relative w-full h-full",children:(0,$h.jsx)(qh,{num:t,rowIndex:n,colIndex:r,isFrozen:i,isFrozenRow:s,isFirstRow:o,isFirstCol:a,onFlip:l,onDragStart:u,highlightClass:(()=>{var e,t;if(g)return"bg-blue-200 shadow-md";if(s)switch(n){case 0:return"bg-yellow-200 opacity-90";case 1:return"bg-orange-200 opacity-90";case 2:return"bg-green-200 opacity-90";case 3:return"bg-purple-200 opacity-90";default:return"bg-gray-200 opacity-90"}if(m&&(null===(e=f[n])||void 0===e?void 0:e.length)===(null===(t=p[0])||void 0===t?void 0:t.length)&&!s){const e=((e,t,n,r)=>{const i=n.map((e=>Wh(e))),s=Wh(e);return s===i[t]?"correct":r&&i.includes(s)?"wrong-position":"incorrect"})(f[n],n,p,!0);if("wrong-position"===e)return"bg-gray-200"}return""})(),isFlipping:h,flipType:d})})},Gh=e=>{let{currentMoves:t,isGameComplete:n}=e;const[r,s]=(0,i.useState)(999),o=Gc();return(0,i.useEffect)((()=>{(async()=>{const e=await Nh(qc(o,"scores","global"));e.exists()&&s(e.data().bestScore)})()}),[]),(0,i.useEffect)((()=>{(async()=>{if(!n||!t)return;const e=await Nh(qc(o,"scores","global")),r=e.exists()?e.data().bestScore:1/0;t<r&&(await Lh(qc(o,"scores","global"),{bestScore:t,updatedAt:(new Date).toISOString()}),s(t))})()}),[t,n]),(0,$h.jsxs)("div",{className:"flex flex-col gap-1 text-right",children:[(0,$h.jsxs)("span",{className:"text-blue-400 font-bold",children:["Moves: ",t]}),r&&(0,$h.jsxs)("span",{children:["Today's Best: ",r]})]})},Qh=e=>{let{moveCount:t,completedRows:n}=e,r=!1;return n>=4&&(r=!0),(0,$h.jsx)("div",{className:"flex items-center gap-4",children:(0,$h.jsx)(Gh,{currentMoves:t,isGameComplete:r})})},Yh=(e,t,n,r,s,o,a,l)=>{const[u,c]=(0,i.useState)({sourceRow:null,sourceCol:null,isDragging:!1,direction:null,targetIndex:null,startX:null,startY:null,gridOffsetLeft:0,gridOffsetTop:0,highlightedIndices:[],dragOffset:{x:0,y:0}}),h=(0,i.useRef)({x:0,y:0}),d=(0,i.useRef)(),f=(0,i.useCallback)(((n,r)=>{h.current={x:n,y:r},d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame((()=>{c((n=>{if(!n.isDragging||!n.startX||!n.startY)return n;const r=h.current.x-n.startX,i=h.current.y-n.startY;let a=n.direction,u={...n.dragOffset};if(n.direction||(Math.abs(r)>Math.abs(i)&&Math.abs(r)>10?a="horizontal":Math.abs(i)>Math.abs(r)&&Math.abs(i)>10&&(a="vertical")),a){u={x:"horizontal"===a?r:0,y:"vertical"===a?i:0};const c=s+l,d=o+l,f=h.current.x-n.gridOffsetLeft,p=h.current.y-n.gridOffsetTop;let m=Math.floor(f/c),g=Math.floor(p/d);const v=e[0].length-1,y=e.length-1,w=Math.max(0,Math.min(m,v)),b=Math.max(0,Math.min(g,y)),x=Math.abs(n.sourceRow-b),S=Math.abs(n.sourceCol-w),E=3;return"horizontal"===a?x>E?n:{...n,targetIndex:w,direction:a,highlightedIndices:[n.sourceCol,w],dragOffset:u}:S>E||t.has(b)?n:{...n,targetIndex:b,direction:a,highlightedIndices:[n.sourceRow,b],dragOffset:u}}return{...n,direction:a,dragOffset:u}}))}))}),[e,s,o,l,t]),p=(0,i.useCallback)(((e,n,r,i)=>{var s,o,l;if(t.has(r))return;const u=null===(s=a.current)||void 0===s?void 0:s.getBoundingClientRect(),h=null!==(o=null===u||void 0===u?void 0:u.left)&&void 0!==o?o:0,d=null!==(l=null===u||void 0===u?void 0:u.top)&&void 0!==l?l:0;setTimeout((()=>{c({sourceRow:r,sourceCol:i,isDragging:!0,direction:null,targetIndex:null,startX:e,startY:n,gridOffsetLeft:h,gridOffsetTop:d,highlightedIndices:[],dragOffset:{x:0,y:0}})}),16)}),[t,a]),m=(0,i.useCallback)((()=>{if(!u.isDragging)return;d.current&&cancelAnimationFrame(d.current);const{sourceRow:i,sourceCol:s,direction:o,targetIndex:a}=u;if("horizontal"===o&&null!==s&&null!==a){if(s!==a){const i=e.map(((e,n)=>{if(t.has(n))return e;const r=[...e];return[r[s],r[a]]=[r[a],r[s]],r}));n(i),r((e=>e+1))}}else if("vertical"===o&&null!==i&&null!==a&&i!==a&&!t.has(i)&&!t.has(a)){const t=[...e];[t[i],t[a]]=[t[a],t[i]],n(t),r((e=>e+1))}c({sourceRow:null,sourceCol:null,isDragging:!1,direction:null,targetIndex:null,startX:null,startY:null,gridOffsetLeft:0,gridOffsetTop:0,highlightedIndices:[],dragOffset:{x:0,y:0}})}),[u,e,n,r,t]);return(0,i.useEffect)((()=>{const e=e=>{u.isDragging&&f(e.clientX,e.clientY)},t=e=>{if(u.isDragging){e.preventDefault();const t=e.touches[0];f(t.clientX,t.clientY)}};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",m),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",m),()=>{d.current&&cancelAnimationFrame(d.current),window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",m),window.removeEventListener("touchmove",t),window.removeEventListener("touchend",m)}}),[u.isDragging,f,m]),{handleDragStart:p,dragState:u}};var Xh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jh=i.createContext&&i.createContext(Xh),Zh=["attr","size","title"];function ed(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(this,arguments)}function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach((function(t){id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function id(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sd(e){return e&&e.map(((e,t)=>i.createElement(e.tag,rd({key:t},e.attr),sd(e.child))))}function od(e){return t=>i.createElement(ad,td({attr:rd({},e.attr)},t),sd(e.child))}function ad(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=ed(e,Zh),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:rd(rd({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==Jh?i.createElement(Jh.Consumer,null,(e=>t(e))):t(Xh)}function ld(e){return od({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function ud(e){return od({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function cd(e){return od({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"},child:[]}]})(e)}function hd(e){return od({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"},child:[]}]})(e)}function dd(e){return od({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007 209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 0 0 172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 0 0 5.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"},child:[]}]})(e)}function fd(e){return od({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const pd="Screens_screenContainer__Jbk0V",md="Screens_screenText__YFlYW",gd="Screens_narrationContainer__2bmIE",vd="Screens_narrationText__fOsPn",yd="Screens_bulletPoints__X4AeS",wd=()=>(0,$h.jsx)("div",{className:pd,children:(0,$h.jsxs)("ul",{className:yd,children:[(0,$h.jsx)("li",{children:"You are given a 4x4 grid of letters."}),(0,$h.jsxs)("li",{children:["You win by arranging four rows of themed words ",(0,$h.jsx)("strong",{children:"alphabetically"}),"."]}),(0,$h.jsx)("li",{children:"Each word is at least four letters long."}),(0,$h.jsxs)("li",{children:["You have access to two operations: ",(0,$h.jsx)("strong",{children:"swaps"})," and ",(0,$h.jsx)("strong",{children:"flips"}),"."]}),(0,$h.jsxs)("ul",{className:yd,children:[(0,$h.jsx)("li",{children:"You can swap rows or columns  by dragging."}),(0,$h.jsx)("li",{children:"You can flip rows or columns by clicking the buttons outside of the grid."})]}),(0,$h.jsx)("li",{children:"Once you place one of the four words in the correct row, it will change colors and freeze."})]})}),bd=e=>{let{onSwapRows:t,onSwapColumns:n,setHandColor:r,setHandPosition:s,setHighlight:o,setGrid:a,setFrozenRows:l}=e;const u=e=>new Promise((t=>setTimeout(t,e)));return(0,i.useEffect)((()=>{let e=!1;const i=[async()=>{await u(50),e||(s(fb(0)),await u(1e3))},async()=>{e||(r("#3b82f6"),o({type:"row",index:0}),await u(500))},async()=>{e||(o({type:"row",index:2}),s(fb(2)),await u(1e3))},async()=>{e||(r("#6b7280"),t(0,2),o(null),await u(1e3))},async()=>{e||(s(pb(1)),r("#6b7280"),await u(1e3))},async()=>{e||(r("#3b82f6"),o({type:"col",index:1}),await u(500))},async()=>{e||(o({type:"col",index:3}),s(pb(3)),await u(1e3))},async()=>{e||(r("#6b7280"),n(1,3),o(null),await u(1e3))},async()=>{e||(a(mb),await u(2e3))}];return(async()=>{for(;!e;)for(let t=0;t<i.length&&!e;t++)await i[t]()})(),()=>{e=!0}}),[t,n,r,s,o,a,l]),(0,$h.jsx)("div",{className:pd,children:(0,$h.jsxs)("p",{className:md,children:[(0,$h.jsx)("strong",{children:"Swapping:"})," Drag rows or columns to swap them. This is useful for moving groups of letters around."]})})},xd=e=>{let{onFlipRow:t,onFlipCol:n,setHandColor:r,setHandPosition:s,setHighlight:o,setGrid:a,setFrozenRows:l}=e;const u=e=>new Promise((t=>setTimeout(t,e)));return(0,i.useEffect)((()=>{let e=!1;const i=[async()=>{if(await u(50),e)return;r("#6b7280");const t=db("row",2);s(t),await u(1e3)},async()=>{e||(o({type:"row",index:2}),r("#3b82f6"),t(2),await u(500))},async()=>{e||(r("#6b7280"),o(null),await u(500))},async()=>{if(e)return;r("#6b7280");const t=db("col",0);s(t),await u(1e3)},async()=>{e||(r("#3b82f6"),o({type:"col",index:0}),n(0),await u(500))},async()=>{e||(r("#6b7280"),o(null),await u(500))},async()=>{e||(a(gb),await u(2e3))}];return(async()=>{for(;!e;)for(let t=0;t<i.length&&!e;t++)await i[t]()})(),()=>{e=!0}}),[t,n,r,s,o,a,l]),(0,$h.jsx)("div",{className:pd,children:(0,$h.jsxs)("p",{className:md,children:[(0,$h.jsx)("strong",{children:"Flipping:"})," Click on the outer buttons to flip a row or column. This is useful for positioning letters."]})})},Sd=e=>{let{onFlipRow:t,onFlipCol:n,setHandColor:r,setHandPosition:s,setHighlight:o,setFrozenRows:a,setGrid:l}=e;const u=e=>new Promise((t=>setTimeout(t,e))),c=(0,i.useRef)(t),h=(0,i.useRef)(n);return(0,i.useEffect)((()=>{c.current=t,h.current=n}),[t,n]),(0,i.useEffect)((()=>{let e=!1;const t=async()=>{if(await u(50),e)return;r("#6b7280");const t=db("row",1);s(t),await u(1e3),e||(o({type:"row",index:1}),r("#3b82f6"),c.current(1),await u(100),r("#6b7280"),e||(o(null),a((e=>e.includes(1)?e:[...e,1])),await u(1e3),e||(l(vb),s(db("row",2)),r("#6b7280"),o(null),a([]),await u(2e3))))};return(async()=>{for(;!e;)await t();o(null),a([])})(),()=>{e=!0}}),[r,s,o,l,a]),(0,$h.jsx)("div",{className:pd,children:(0,$h.jsxs)("p",{className:md,children:[(0,$h.jsx)("strong",{children:"Solved rows:"})," Once you solve a row, it freezes and won't change during further swaps or flips."]})})},Ed=e=>{let{grid:t,highlight:n,handPosition:r,handColor:s,onFlipRow:o,onFlipCol:a,onSwapRows:l,onSwapColumns:u,setHandColor:c,setHandPosition:h,setHighlight:d,frozenRows:f,setFrozenRows:p,setGrid:m}=e;const[g,v]=(0,i.useState)(""),y=(0,i.useRef)(""),w=(0,i.useRef)(o),b=(0,i.useRef)(a),x=(0,i.useRef)(l),S=(0,i.useRef)(u);(0,i.useEffect)((()=>{w.current=o,b.current=a,x.current=l,S.current=u}),[o,a,l,u]);const E=e=>new Promise((t=>setTimeout(t,e)));return(0,i.useEffect)((()=>{let e=!1;const t=t=>{e||(v(t),y.current=t)},n=[async()=>{t("I see the word 'BEAR' hidden in the second row!"),await E(3e3)},async()=>{t("Let's make 'BEAR' by swapping columns."),await E(3e3)},async()=>{await E(50),e||(h(pb(0)),await E(1e3))},async()=>{e||(c("#3b82f6"),d({type:"col",index:0}),await E(500))},async()=>{e||(d({type:"col",index:2}),h(pb(2)),await E(1e3))},async()=>{e||(c("#6b7280"),S.current(0,2),d(null),await E(1e3))},async()=>{t("It didn't solve; maybe it's in the wrong row alphabetically."),await E(3e3)},async()=>{await E(50),e||(h(fb(0)),await E(1e3))},async()=>{e||(c("#3b82f6"),d({type:"row",index:0}),await E(500))},async()=>{e||(d({type:"row",index:1}),h(fb(1)),await E(1e3))},async()=>{e||(c("#6b7280"),x.current(0,1),d(null),await E(1e3))},async()=>{c("#6b7280"),d(null),p((e=>[...e,0])),await E(1e3)},async()=>{t("Placing it in the first row worked!"),await E(3e3)},async()=>{t("I see that flipping Column 2 can make 'NEWT.'"),await E(3e3)},async()=>{if(await E(50),e)return;c("#6b7280");const t=db("col",1);h(t),await E(1e3)},async()=>{e||(d({type:"col",index:1}),c("#3b82f6"),b.current(1),await E(500))},async()=>{e||(c("#6b7280"),d(null),await E(500))},async()=>{t("Hm... still not solved. Wrong row?"),await E(3e3)},async()=>{await E(50),e||(h(fb(3)),await E(1e3))},async()=>{e||(c("#3b82f6"),d({type:"row",index:3}),await E(500))},async()=>{e||(d({type:"row",index:2}),h(fb(2)),await E(1e3))},async()=>{e||(c("#6b7280"),x.current(2,3),d(null),await E(1e3))},async()=>{c("#6b7280"),d(null),p((e=>[...e,2])),await E(1e3)},async()=>{t("Yep, that was it! Two rows to go."),await E(3e3)},async()=>{t("We can get 'WOLF' and 'FISH' by flipping Columns 1 and 3."),await E(3e3)},async()=>{if(await E(50),e)return;c("#6b7280");const t=db("col",0);h(t),await E(1e3)},async()=>{e||(d({type:"col",index:0}),c("#3b82f6"),b.current(0),await E(500))},async()=>{e||(c("#6b7280"),d(null),await E(500))},async()=>{if(await E(50),e)return;c("#6b7280");const t=db("col",2);h(t),await E(1e3)},async()=>{e||(d({type:"col",index:2}),c("#3b82f6"),b.current(2),await E(500))},async()=>{e||(c("#6b7280"),d(null),await E(500))},async()=>{c("#6b7280"),d(null),p((e=>[...e,1,3])),await E(1e3)},async()=>{t("We did it!"),await E(3e3)},async()=>{await E(1e3),e||(m(yb),h(db("row",2)),c("#6b7280"),d(null),p([]),await E(2e3))}];return(async()=>{for(;!e;)for(let t=0;t<n.length&&!e;t++)await n[t]()})(),()=>{e=!0}}),[c,h,d,p,m]),(0,$h.jsxs)("div",{className:pd,children:[(0,$h.jsx)("p",{className:md,children:(0,$h.jsx)("strong",{children:'Here\'s a full example. This is a board with the theme "Animals."'})}),(0,$h.jsx)("div",{className:gd,children:(0,$h.jsx)("p",{className:vd,children:g})})]})},Td="NavigationDots_navigationDots__6tVvA",Cd="NavigationDots_dot__nf1Tw",kd="NavigationDots_active__KaTqf",_d=e=>{let{total:t,current:n}=e;return(0,$h.jsx)("div",{className:Td,children:Array.from({length:t}).map(((e,t)=>(0,$h.jsx)("span",{className:`${Cd} ${n===t?kd:""}`},`dot-${t}`)))})};function Pd(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Ad(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Id=e=>Array.isArray(e);function Dd(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Nd(e){return"string"===typeof e||Array.isArray(e)}function Rd(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Ld(e,t,n,r){if("function"===typeof t){const[i,s]=Rd(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,s]=Rd(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Md(e,t,n){const r=e.getProps();return Ld(r,t,void 0!==n?n:r.custom,e)}const Od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fd=["initial",...Od],jd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vd=new Set(jd),Bd=e=>1e3*e,Ud=e=>e/1e3,zd={type:"spring",stiffness:500,damping:25,restSpeed:10},$d={type:"keyframes",duration:.8},Hd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qd=(e,t)=>{let{keyframes:n}=t;return n.length>2?$d:Vd.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:zd:Hd};function Wd(e,t){return e?e[t]||e.default||e:void 0}const Kd=!1,Gd=!1,Qd=!1,Yd=e=>null!==e;function Xd(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const s=e.filter(Yd),o=r&&"loop"!==i&&r%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const Jd=e=>e;const Zd=["read","resolveKeyframes","update","preRender","render","postRender"];function ef(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Zd.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e)),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,f=()=>{const s=Gd?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=Zd.reduce(((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,s,o)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<Zd.length;t++)o[Zd[t]].cancel(e)},state:i,steps:o}}const{schedule:tf,cancel:nf,state:rf,steps:sf}=ef("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Jd,!0),of=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function af(e,t,n,r){if(e===t&&n===r)return Jd;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=of(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:of(i(e),t,r)}const lf=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uf=e=>t=>1-e(1-t),cf=af(.33,1.53,.69,.99),hf=uf(cf),df=lf(hf),ff=e=>(e*=2)<1?.5*hf(e):.5*(2-Math.pow(2,-10*(e-1))),pf=e=>1-Math.sin(Math.acos(e)),mf=uf(pf),gf=lf(pf),vf=e=>/^0[^.\s]+$/u.test(e);let yf=Jd,wf=Jd;const bf=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),xf=e=>t=>"string"===typeof t&&t.startsWith(e),Sf=xf("--"),Ef=xf("var(--"),Tf=e=>!!Ef(e)&&Cf.test(e.split("/*")[0].trim()),Cf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;wf(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=kf.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return bf(e)?parseFloat(e):e}return Tf(i)?_f(i,t,n+1):i}const Pf=(e,t,n)=>n>t?t:n<e?e:n,Af={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},If={...Af,transform:e=>Pf(0,1,e)},Df={...Af,default:1},Nf=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Rf=Nf("deg"),Lf=Nf("%"),Mf=Nf("px"),Of=Nf("vh"),Ff=Nf("vw"),jf={...Lf,parse:e=>Lf.parse(e)/100,transform:e=>Lf.transform(100*e)},Vf=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Bf=e=>e===Af||e===Mf,Uf=(e,t)=>parseFloat(e.split(", ")[t]),zf=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return Uf(s[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?Uf(t[1],e):0}},$f=new Set(["x","y","z"]),Hf=jd.filter((e=>!$f.has(e)));const qf={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:zf(4,13),y:zf(5,14)};qf.translateX=qf.x,qf.translateY=qf.y;const Wf=e=>t=>t.test(e),Kf=[Af,Mf,Lf,Rf,Ff,Of,{test:e=>"auto"===e,parse:e=>e}],Gf=e=>Kf.find(Wf(e)),Qf=new Set;let Yf=!1,Xf=!1;function Jf(){if(Xf){const e=Array.from(Qf).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Hf.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Xf=!1,Yf=!1,Qf.forEach((e=>e.complete())),Qf.clear()}function Zf(){Qf.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Xf=!0)}))}class ep{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qf.add(this),Yf||(Yf=!0,tf.read(Zf),tf.resolveKeyframes(Jf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tp=e=>Math.round(1e5*e)/1e5,np=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const rp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ip=(e,t)=>n=>Boolean("string"===typeof n&&rp.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),sp=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,s,o,a]=r.match(np);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},op={...Af,transform:e=>Math.round((e=>Pf(0,255,e))(e))},ap={test:ip("rgb","red"),parse:sp("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+op.transform(t)+", "+op.transform(n)+", "+op.transform(r)+", "+tp(If.transform(i))+")"}};const lp={test:ip("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ap.transform},up={test:ip("hsl","hue"),parse:sp("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Lf.transform(tp(n))+", "+Lf.transform(tp(r))+", "+tp(If.transform(i))+")"}},cp={test:e=>ap.test(e)||lp.test(e)||up.test(e),parse:e=>ap.test(e)?ap.parse(e):up.test(e)?up.parse(e):lp.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ap.transform(e):up.transform(e)},hp=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const dp="number",fp="color",pp=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mp(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(pp,(e=>(cp.test(e)?(r.color.push(s),i.push(fp),n.push(cp.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(dp),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:i}}function gp(e){return mp(e).values}function vp(e){const{split:t,types:n}=mp(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===dp?tp(e[s]):t===fp?cp.transform(e[s]):e[s]}return i}}const yp=e=>"number"===typeof e?0:e;const wp={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(np))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(hp))||void 0===n?void 0:n.length)||0)>0},parse:gp,createTransformer:vp,getAnimatableNone:function(e){const t=gp(e);return vp(e)(t.map(yp))}},bp=new Set(["brightness","contrast","saturate","opacity"]);function xp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(np)||[];if(!r)return e;const i=n.replace(r,"");let s=bp.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Sp=/\b([a-z-]*)\(.*?\)/gu,Ep={...wp,getAnimatableNone:e=>{const t=e.match(Sp);return t?t.map(xp).join(" "):e}},Tp={borderWidth:Mf,borderTopWidth:Mf,borderRightWidth:Mf,borderBottomWidth:Mf,borderLeftWidth:Mf,borderRadius:Mf,radius:Mf,borderTopLeftRadius:Mf,borderTopRightRadius:Mf,borderBottomRightRadius:Mf,borderBottomLeftRadius:Mf,width:Mf,maxWidth:Mf,height:Mf,maxHeight:Mf,top:Mf,right:Mf,bottom:Mf,left:Mf,padding:Mf,paddingTop:Mf,paddingRight:Mf,paddingBottom:Mf,paddingLeft:Mf,margin:Mf,marginTop:Mf,marginRight:Mf,marginBottom:Mf,marginLeft:Mf,backgroundPositionX:Mf,backgroundPositionY:Mf},Cp={rotate:Rf,rotateX:Rf,rotateY:Rf,rotateZ:Rf,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:Rf,skewX:Rf,skewY:Rf,distance:Mf,translateX:Mf,translateY:Mf,translateZ:Mf,x:Mf,y:Mf,z:Mf,perspective:Mf,transformPerspective:Mf,opacity:If,originX:jf,originY:jf,originZ:Mf},kp={...Af,transform:Math.round},_p={...Tp,...Cp,zIndex:kp,size:Mf,fillOpacity:If,strokeOpacity:If,numOctaves:kp},Pp={..._p,color:cp,backgroundColor:cp,outlineColor:cp,fill:cp,stroke:cp,borderColor:cp,borderTopColor:cp,borderRightColor:cp,borderBottomColor:cp,borderLeftColor:cp,filter:Ep,WebkitFilter:Ep},Ap=e=>Pp[e];function Ip(e,t){let n=Ap(e);return n!==Ep&&(n=wp),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dp=new Set(["auto","none","0"]);class Np extends ep{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Tf(n))){const r=_f(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Vf.has(n)||2!==e.length)return;const[r,i]=e,s=Gf(r),o=Gf(i);if(s!==o)if(Bf(s)&&Bf(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||vf(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Dp.has(t)&&mp(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=Ip(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qf[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=qf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function Rp(e){return"function"===typeof e}let Lp;function Mp(){Lp=void 0}const Op={now:()=>(void 0===Lp&&Op.set(rf.isProcessing||Gd?rf.timestamp:performance.now()),Lp),set:e=>{Lp=e,queueMicrotask(Mp)}},Fp=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!wp.test(e)&&"0"!==e||e.startsWith("url(")));function jp(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=Fp(i,t),a=Fp(s,t);return yf(o===a,`You are trying to animate ${t} from "${i}" to "${s}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${s} via the \`style\` property.`),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Rp(n))&&r)}class Vp{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Op.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Zf(),Jf()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Op.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!jp(e,n,r,i)){if(Qd||!s)return null===a||void 0===a||a(Xd(e,this.options,t)),null===o||void 0===o||o(),void this.resolveFinishedPromise();this.options.duration=0}const u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function Bp(e,t){return t?e*(1e3/t):0}function Up(e,t,n){const r=Math.max(t-5,0);return Bp(n-e(r),t-r)}const zp=.001;function $p(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;yf(r<=Bd(10),"Spring duration must be 10 seconds or less");let a=1-i;a=Pf(.05,1,a),r=Pf(.01,10,Ud(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=qp(e,a),l=Math.exp(-n);return zp-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=qp(Math.pow(e,2),a);return(-t(e)+zp>0?-1:1)*((i-o)*l)/u}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Hp;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Bd(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const Hp=12;function qp(e,t){return e*Math.sqrt(1-t*t)}const Wp=["duration","bounce"],Kp=["stiffness","damping","mass"];function Gp(e,t){return t.some((t=>void 0!==e[t]))}function Qp(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Gp(e,Kp)&&Gp(e,Wp)){const n=$p(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-Ud(i.velocity||0)}),p=d||0,m=u/(2*Math.sqrt(l*c)),g=o-s,v=Ud(Math.sqrt(l/c)),y=Math.abs(g)<5;let w;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=qp(v,m);w=t=>{const n=Math.exp(-m*v*t);return o-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let i=0;m<1&&(i=0===e?Bd(p):Up(w,e,t));const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function Yp(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),w=e=>v+y(e),b=e=>{const t=y(e),n=w(e);f.done=Math.abs(t)<=c,f.value=f.done?v:n};let x,S;const E=e=>{(e=>void 0!==l&&e<l||void 0!==u&&e>u)(f.value)&&(x=e,S=Qp({keyframes:[f.value,p(f.value)],velocity:Up(w,e,f.value),damping:s,stiffness:o,restDelta:c,restSpeed:h}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,b(e),E(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&b(e),f)}}}const Xp=af(.42,0,1,1),Jp=af(0,0,.58,1),Zp=af(.42,0,.58,1),em=e=>Array.isArray(e)&&"number"===typeof e[0],tm={linear:Jd,easeIn:Xp,easeInOut:Zp,easeOut:Jp,circIn:pf,circInOut:gf,circOut:mf,backIn:hf,backInOut:df,backOut:cf,anticipate:ff},nm=e=>{if(em(e)){wf(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return af(t,n,r,i)}return"string"===typeof e?(wf(void 0!==tm[e],`Invalid easing type '${e}'`),tm[e]):e},rm=(e,t)=>n=>t(e(n)),im=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(rm)},sm=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},om=(e,t,n)=>e+(t-e)*n;function am(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lm(e,t){return n=>n>0?t:e}const um=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},cm=[lp,ap,up];function hm(e){const t=(e=>cm.find((t=>t.test(e))))(e);if(yf(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===up&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=am(i,e,t+1/3),o=am(i,e,t),a=am(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const dm=(e,t)=>{const n=hm(e),r=hm(t);if(!n||!r)return lm(e,t);const i={...n};return e=>(i.red=um(n.red,r.red,e),i.green=um(n.green,r.green,e),i.blue=um(n.blue,r.blue,e),i.alpha=om(n.alpha,r.alpha,e),ap.transform(i))},fm=new Set(["none","hidden"]);function pm(e,t){return n=>om(e,t,n)}function mm(e){return"number"===typeof e?pm:"string"===typeof e?Tf(e)?lm:cp.test(e)?dm:ym:Array.isArray(e)?gm:"object"===typeof e?cp.test(e)?dm:vm:lm}function gm(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>mm(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function vm(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=mm(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const ym=(e,t)=>{const n=wp.createTransformer(t),r=mp(e),i=mp(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?fm.has(e)&&!i.values.length||fm.has(t)&&!r.values.length?function(e,t){return fm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):im(gm(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[s]=l,i[o]++}return r}(r,i),i.values),n):(yf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),lm(e,t))};function wm(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return om(e,t,n);return mm(e)(e,t)}function bm(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(wf(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],i=n||wm,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Jd:t;n=im(e,n)}r.push(n)}return r}(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=sm(e[n],e[n+1],t);return o[n](r)};return n?t=>l(Pf(e[0],e[s-1],t)):l}function xm(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=sm(0,t,r);e.push(om(n,1,i))}}(t,e.length-1),t}function Sm(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(nm):nm(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:xm(n),t),l=bm(a,n,{ease:Array.isArray(s)?s:(u=n,c=s,u.map((()=>c||Zp)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Em=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>tf.update(t,!0),stop:()=>nf(t),now:()=>rf.isProcessing?rf.timestamp:Op.now()}},Tm={decay:Yp,inertia:Yp,tween:Sm,keyframes:Sm,spring:Qp},Cm=e=>e/100;class km extends Vp{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,s=(null===r||void 0===r?void 0:r.KeyframeResolver)||ep;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=this.options,o=Rp(t)?t:Tm[t]||Sm;let a,l;o!==Sm&&"number"!==typeof e[0]&&(a=im(Cm,wm(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});"mirror"===i&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===u.calculatedDuration&&(u.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(u));const{calculatedDuration:c}=u,h=c+r;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:c,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let y=this.currentTime,w=i;if(d){const e=Math.min(this.currentTime,u)/c;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/c)):"mirror"===f&&(w=s)),y=Pf(0,1,n)*c}const b=v?{done:!1,value:a[0]}:w.next(y);o&&(b.value=o(b.value));let{done:x}=b;v||null===l||(x=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&void 0!==r&&(b.value=Xd(a,this.options,r)),m&&m(b.value),S&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Ud(e.calculatedDuration):0}get time(){return Ud(this.currentTime)}set time(e){e=Bd(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ud(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Em,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _m=new Set(["opacity","clipPath","filter","transform"]);function Pm(e){let t;return()=>(void 0===t&&(t=e()),t)}const Am={linearEasing:void 0};function Im(e,t){const n=Pm(e);return()=>{var e;return null!==(e=Am[t])&&void 0!==e?e:n()}}const Dm=Im((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(ge){return!1}return!0}),"linearEasing");function Nm(e){return Boolean("function"===typeof e&&Dm()||!e||"string"===typeof e&&(e in Lm||Dm())||em(e)||Array.isArray(e)&&e.every(Nm))}const Rm=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},Lm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rm([0,.65,.55,1]),circOut:Rm([.55,0,1,.45]),backIn:Rm([.31,.01,.66,-.59]),backOut:Rm([.33,1.53,.69,.99])};function Mm(e,t){return e?"function"===typeof e&&Dm()?((e,t)=>{let n="";const r=Math.max(Math.round(t/10),2);for(let i=0;i<r;i++)n+=e(sm(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`})(e,t):em(e)?Rm(e):Array.isArray(e)?e.map((e=>Mm(e,t)||Lm.easeOut)):Lm[e]:void 0}function Om(e,t){e.timeline=t,e.onfinish=null}const Fm=Pm((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const jm={anticipate:ff,backInOut:df,circInOut:gf};class Vm extends Vp{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Np(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;var c;if("string"===typeof s&&Dm()&&s in jm&&(s=jm[s]),Rp((c=this.options).type)||"spring"===c.type||!Nm(c.ease)){const{onComplete:t,onUpdate:n,motionValue:a,element:l,...u}=this.options,c=function(e,t){const n=new km({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<2e4;)r=n.sample(s),i.push(r.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),r=c.duration,i=c.times,s=c.ease,o="keyframes"}const h=function(e,t,n){let{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=Mm(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=null!==u&&void 0!==u?u:this.calcStartTime(),this.pendingTimeline?(Om(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:n}=this.options;a.set(Xd(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ud(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ud(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Bd(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Jd;const{animation:n}=t;Om(n,e)}else this.pendingTimeline=e;return Jd}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...u}=this.options,c=new km({...u,keyframes:n,duration:r,type:i,ease:s,times:o,isGenerator:!0}),h=Bd(this.time);e.setWithVelocity(c.sample(h-10).value,c.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;return Fm()&&n&&_m.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}}const Bm=Pm((()=>void 0!==window.ScrollTimeline));class Um{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Bm()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const zm=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const a=Wd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u-=Bd(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:c,...h}=e;return!!Object.keys(h).length})(a)||(c={...c,...qd(e,c)}),c.duration&&(c.duration=Bd(c.duration)),c.repeatDelay&&(c.repeatDelay=Bd(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(h=!0)),(Qd||Kd)&&(h=!0,c.duration=0,c.delay=0),h&&!s&&void 0!==t.get()){const e=Xd(c.keyframes,a);if(void 0!==e)return tf.update((()=>{c.onUpdate(e),c.onComplete()})),new Um([])}return!s&&Vm.supports(c)?new Vm(c):new km(c)}},$m=e=>Id(e)?e[e.length-1]||0:e;function Hm(e,t){-1===e.indexOf(t)&&e.push(t)}function qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wm{constructor(){this.subscriptions=[]}add(e){return Hm(this.subscriptions,e),()=>qm(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Km={current:void 0};class Gm{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Op.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Op.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Wm);const n=this.events[e].add(t);return"change"===e?()=>{n(),tf.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Km.current&&Km.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Op.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Bp(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qm(e,t){return new Gm(e,t)}function Ym(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Qm(n))}const Xm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jm="data-"+Xm("framerAppearId");function Zm(e){return e.props[Jm]}const eg=e=>Boolean(e&&e.getVelocity);function tg(e,t){const n=e.getValue("willChange");if(r=n,Boolean(eg(r)&&r.add))return n.add(t);var r}function ng(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function rg(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in l){const t=e.getValue(h,null!==(s=e.latestValues[h])&&void 0!==s?s:null),r=l[h];if(void 0===r||c&&ng(c,h))continue;const i={delay:n,...Wd(o||{},h)};let a=!1;if(window.MotionHandoffAnimation){const t=Zm(e);if(t){const e=window.MotionHandoffAnimation(t,h,tf);null!==e&&(i.startTime=e,a=!0)}}tg(e,h),t.start(zm(h,t,r,e.shouldReduceMotion&&Vd.has(h)?{type:!1}:i,e,a));const d=t.animation;d&&u.push(d)}return a&&Promise.all(u).then((()=>{tf.update((()=>{a&&function(e,t){const n=Md(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s)Ym(e,o,$m(s[o]))}(e,a)}))})),u}function ig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Md(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(rg(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(sg).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(ig(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,i+r,o,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function sg(e,t){return e.sortNodePosition(t)}const og=Fd.length;function ag(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ag(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<og;n++){const r=Fd[n],i=e.props[r];(Nd(i)||!1===i)&&(t[r]=i)}return t}const lg=[...Od].reverse(),ug=Od.length;function cg(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>ig(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=ig(e,t,r);else{const i="function"===typeof t?Md(e,t,r.custom):t;n=Promise.all(rg(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function hg(e){let t=cg(e),n=pg(),r=!0;const i=t=>(n,r)=>{var i;const s=Md(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function s(s){const{props:o}=e,a=ag(e.parent)||{},l=[],u=new Set;let c={},h=1/0;for(let t=0;t<ug;t++){const d=lg[t],f=n[d],p=void 0!==o[d]?o[d]:a[d],m=Nd(p),g=d===s?f.isActive:null;!1===g&&(h=t);let v=p===a[d]&&p!==o[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...c},!f.isActive&&null===g||!p&&!f.prevProp||Ad(p)||"boolean"===typeof p)continue;const y=dg(f.prevProp,p);let w=y||d===s&&f.isActive&&!v&&m||t>h&&m,b=!1;const x=Array.isArray(p)?p:[p];let S=x.reduce(i(d),{});!1===g&&(S={});const{prevResolvedValues:E={}}=f,T={...E,...S},C=t=>{w=!0,u.has(t)&&(b=!0,u.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in T){const t=S[e],n=E[e];if(c.hasOwnProperty(e))continue;let r=!1;r=Id(t)&&Id(n)?!Dd(t,n):t!==n,r?void 0!==t&&null!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(c={...c,...S}),r&&e.blockInitialAnimation&&(w=!1);w&&(!(v&&y)||b)&&l.push(...x.map((e=>({animation:e,options:{type:d}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=pg(),r=!0}}}function dg(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Dd(t,e)}function fg(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pg(){return{animate:fg(!0),whileInView:fg(),whileHover:fg(),whileTap:fg(),whileDrag:fg(),whileFocus:fg(),exit:fg()}}class mg{constructor(e){this.isMounted=!1,this.node=e}update(){}}let gg=0;const vg={animation:{Feature:class extends mg{constructor(e){super(e),e.animationState||(e.animationState=hg(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends mg{constructor(){super(...arguments),this.id=gg++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},yg=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}function bg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xg(e,t,n,r){return bg(e,t,(e=>t=>yg(t)&&e(t,wg(t)))(n),r)}const Sg=(e,t)=>Math.abs(e-t);class Eg{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=kg(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Sg(e.x,t.x),r=Sg(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=rf;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Tg(t,this.transformPagePoint),tf.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=kg("pointercancel"===e.type?this.lastMoveEventInfo:Tg(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!yg(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Tg(wg(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=rf;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,kg(s,this.history)),this.removeListeners=im(xg(this.contextWindow,"pointermove",this.handlePointerMove),xg(this.contextWindow,"pointerup",this.handlePointerUp),xg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nf(this.updatePoint)}}function Tg(e,t){return t?{point:t(e.point)}:e}function Cg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kg(e,t){let{point:n}=e;return{point:n,delta:Cg(n,Pg(t)),offset:Cg(n,_g(t)),velocity:Ag(t,.1)}}function _g(e){return e[0]}function Pg(e){return e[e.length-1]}function Ag(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Pg(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bd(t)));)n--;if(!r)return{x:0,y:0};const s=Ud(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ig(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Dg=Ig("dragHorizontal"),Ng=Ig("dragVertical");function Rg(e){let t=!1;if("y"===e)t=Ng();else if("x"===e)t=Dg();else{const e=Dg(),n=Ng();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Lg(){const e=Rg(!0);return!e||(e(),!1)}function Mg(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Og(e){return e.max-e.min}function Fg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=om(t.min,t.max,e.origin),e.scale=Og(n)/Og(t),e.translate=om(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jg(e,t,n,r){Fg(e.x,t.x,n.x,r?r.originX:void 0),Fg(e.y,t.y,n.y,r?r.originY:void 0)}function Vg(e,t,n){e.min=n.min+t.min,e.max=e.min+Og(t)}function Bg(e,t,n){e.min=t.min-n.min,e.max=e.min+Og(t)}function Ug(e,t,n){Bg(e.x,t.x,n.x),Bg(e.y,t.y,n.y)}function zg(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function $g(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Hg=.35;function qg(e,t,n){return{min:Wg(e,t),max:Wg(e,n)}}function Wg(e,t){return"number"===typeof e?e:e[t]||0}const Kg=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Gg(e){return[e("x"),e("y")]}function Qg(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Yg(e){return void 0===e||1===e}function Xg(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Yg(t)||!Yg(n)||!Yg(r)}function Jg(e){return Xg(e)||Zg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Zg(e){return ev(e.x)||ev(e.y)}function ev(e){return e&&"0%"!==e}function tv(e,t,n){return n+t*(e-n)}function nv(e,t,n,r,i){return void 0!==i&&(e=tv(e,i,r)),tv(e,n,r)+t}function rv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=nv(e.min,t,n,r,i),e.max=nv(e.max,t,n,r,i)}function iv(e,t){let{x:n,y:r}=t;rv(e.x,n.translate,n.scale,n.originPoint),rv(e.y,r.translate,r.scale,r.originPoint)}const sv=.999999999999,ov=1.0000000000001;function av(e,t){e.min=e.min+t,e.max=e.max+t}function lv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;rv(e,t,n,om(e.min,e.max,i),r)}function uv(e,t){lv(e.x,t.x,t.scaleX,t.scale,t.originX),lv(e.y,t.y,t.scaleY,t.scale,t.originY)}function cv(e,t){return Qg(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const hv=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},dv=new WeakMap;class fv{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Eg(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wg(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Rg(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gg((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Lf.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Og(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&tf.postRender((()=>i(e,t))),tg(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Gg((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:hv(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&tf.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!pv(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?om(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?om(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Mg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:zg(e.x,r,s),y:zg(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hg;return!1===e?e=0:!0===e&&(e=Hg),{x:qg(e,"left","right"),y:qg(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gg((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mg(e))return!1;const n=e.current;wf(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=cv(e,n),{scroll:i}=t;return i&&(av(r.x,i.offset.x),av(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:$g(e.x,t.x),y:$g(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Qg(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Gg((o=>{if(!pv(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return tg(this.visualElement,e),n.start(zm(e,n,0,t,this.visualElement,!1))}stopAnimation(){Gg((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Gg((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Gg((t=>{const{drag:n}=this.getProps();if(!pv(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-om(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Mg(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Gg((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Og(e),i=Og(t);return i>r?n=sm(t.min,t.max-r,e.min):r>i&&(n=sm(e.min,e.max-i,t.min)),Pf(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gg((t=>{if(!pv(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(om(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;dv.set(this.visualElement,this);const e=xg(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Mg(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),tf.read(t);const i=bg(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Gg((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=Hg,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function pv(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const mv=e=>(t,n)=>{e&&tf.postRender((()=>e(t,n)))};const gv=(0,i.createContext)(null);const vv=(0,i.createContext)({}),yv=(0,i.createContext)({}),wv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xv={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Mf.test(e))return e;e=parseFloat(e)}return`${bv(e,t.target.x)}% ${bv(e,t.target.y)}%`}},Sv={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=wp.parse(e);if(s.length>5)return i;const o=wp.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=u;const c=om(l,u,.5);return"number"===typeof s[2+a]&&(s[2+a]/=c),"number"===typeof s[3+a]&&(s[3+a]/=c),o(s)}},Ev={};const{schedule:Tv,cancel:Cv}=ef(queueMicrotask,!1);class kv extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Pv,Object.assign(Ev,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||tf.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tv.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _v(e){const[t,n]=function(){const e=(0,i.useContext)(gv);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();(0,i.useEffect)((()=>r(s)),[]);const o=(0,i.useCallback)((()=>n&&n(s)),[s,n]);return!t&&n?[!1,o]:[!0]}(),r=(0,i.useContext)(vv);return(0,$h.jsx)(kv,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(yv),isPresent:t,safeToRemove:n})}const Pv={borderRadius:{...xv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xv,borderTopRightRadius:xv,borderBottomLeftRadius:xv,borderBottomRightRadius:xv,boxShadow:Sv},Av=["TopLeft","TopRight","BottomLeft","BottomRight"],Iv=Av.length,Dv=e=>"string"===typeof e?parseFloat(e):e,Nv=e=>"number"===typeof e||Mf.test(e);function Rv(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Lv=Ov(0,.5,mf),Mv=Ov(.5,.95,Jd);function Ov(e,t,n){return r=>r<e?0:r>t?1:n(sm(e,t,r))}function Fv(e,t){e.min=t.min,e.max=t.max}function jv(e,t){Fv(e.x,t.x),Fv(e.y,t.y)}function Vv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Bv(e,t,n,r,i){return e=tv(e-=t,1/n,r),void 0!==i&&(e=tv(e,1/i,r)),e}function Uv(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Lf.test(t)&&(t=parseFloat(t),t=om(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=om(s.min,s.max,r);e===s&&(a-=t),e.min=Bv(e.min,t,n,a,i),e.max=Bv(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const zv=["x","scaleX","originX"],$v=["y","scaleY","originY"];function Hv(e,t,n,r){Uv(e.x,t,zv,n?n.x:void 0,r?r.x:void 0),Uv(e.y,t,$v,n?n.y:void 0,r?r.y:void 0)}function qv(e){return 0===e.translate&&1===e.scale}function Wv(e){return qv(e.x)&&qv(e.y)}function Kv(e,t){return e.min===t.min&&e.max===t.max}function Gv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Qv(e,t){return Gv(e.x,t.x)&&Gv(e.y,t.y)}function Yv(e){return Og(e.x)/Og(e.y)}function Xv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Jv{constructor(){this.members=[]}add(e){Hm(this.members,e),e.scheduleRender()}remove(e){if(qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zv=(e,t)=>e.depth-t.depth;class ey{constructor(){this.children=[],this.isDirty=!1}add(e){Hm(this.children,e),this.isDirty=!0}remove(e){qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zv),this.isDirty=!1,this.children.forEach(e)}}function ty(e){const t=eg(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}function ny(e,t){const n=Op.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(nf(r),e(o-t))};return tf.read(r,!0),()=>nf(r)}const ry={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},iy="undefined"!==typeof window&&void 0!==window.MotionDebug,sy=["","X","Y","Z"],oy={visibility:"hidden"};let ay=0;function ly(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function uy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Zm(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",tf,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&uy(r)}function cy(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=ay++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,iy&&(ry.totalNodes=ry.resolvedTargetDeltas=ry.recalculatedProjection=0),this.nodes.forEach(fy),this.nodes.forEach(by),this.nodes.forEach(xy),this.nodes.forEach(py),iy&&window.MotionDebug.record(ry)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ey)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Wm),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=ny(r,250),wv.hasAnimatedSinceResize&&(wv.hasAnimatedSinceResize=!1,this.nodes.forEach(wy))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||_y,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!Qv(this.targetLayout,i)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...Wd(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||wy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sy),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(gy);this.isUpdating||this.nodes.forEach(vy),this.isUpdating=!1,this.nodes.forEach(yy),this.nodes.forEach(hy),this.nodes.forEach(dy),this.clearAllSnapshots();const e=Op.now();rf.delta=Pf(0,1e3/60,e-rf.timestamp),rf.timestamp=e,rf.isProcessing=!0,sf.update.process(rf),sf.preRender.process(rf),sf.render.process(rf),rf.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(my),this.sharedNodes.forEach(Ey)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tf.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tf.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Wv(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Jg(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Iy((r=n).x),Iy(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Ny))){const{scroll:e}=this.root;e&&(av(n.x,e.offset.x),av(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(jv(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&jv(n,e),av(n.x,i.offset.x),av(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};jv(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&uv(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Jg(e.latestValues)&&uv(n,e.latestValues)}return Jg(this.latestValues)&&uv(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};jv(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Jg(e.latestValues))continue;Xg(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};jv(r,e.measurePageBox()),Hv(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Jg(this.latestValues)&&Hv(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rf.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=rf.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ug(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),jv(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Vg(o.x,a.x,l.x),Vg(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):jv(this.target,this.layout.layoutBox),iv(this.target,this.targetDelta)):jv(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ug(this.relativeTargetOrigin,this.target,e.target),jv(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}iy&&ry.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Xg(this.parent.latestValues)&&!Zg(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===rf.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;jv(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uv(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,iv(e,o)),r&&Jg(s.latestValues)&&uv(e,s.latestValues))}t.x<ov&&t.x>sv&&(t.x=1),t.y<ov&&t.y>sv&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Vv(this.prevProjectionDelta.x,this.projectionDelta.x),Vv(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jg(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&Xv(this.projectionDelta.x,this.prevProjectionDelta.x)&&Xv(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),iy&&ry.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(ky));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Ty(s.x,e.x,n),Ty(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ug(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Cy(e.x,t.x,n.x,r),Cy(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return Kv(e.x,t.x)&&Kv(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),jv(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=om(0,void 0!==n.opacity?n.opacity:1,Lv(r)),e.opacityExit=om(void 0!==t.opacity?t.opacity:1,0,Mv(r))):s&&(e.opacity=om(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<Iv;o++){const i=`border${Av[o]}Radius`;let s=Rv(t,i),a=Rv(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Nv(s)===Nv(a)?(e[i]=Math.max(om(Dv(s),Dv(a),r),0),(Lf.test(a)||Lf.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=om(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tf.update((()=>{wv.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=eg(e)?e:Qm(e);return r.start(zm("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Dy(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Og(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Og(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}jv(t,n),uv(t,i),jg(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Jv);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ly("z",e,r,this.animationValues);for(let i=0;i<sy.length;i++)ly(`rotate${sy[i]}`,e,r,this.animationValues),ly(`skew${sy[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oy;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=ty(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=ty(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Jg(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in Ev){if(void 0===o[u])continue;const{correct:e,applyTo:t}=Ev[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?ty(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(gy),this.root.sharedNodes.clear()}}}function hy(e){e.updateLayout()}function dy(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Gg((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=Og(r);r.min=t[e].min,r.max=r.min+i})):Dy(i,n.layoutBox,t)&&Gg((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=Og(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jg(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?jg(a,e.applyTransform(r,!0),n.measuredBox):jg(a,t,n.layoutBox);const l=!Wv(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};Ug(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ug(a,t,s.layoutBox),Qv(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function fy(e){iy&&ry.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function py(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function my(e){e.clearSnapshot()}function gy(e){e.clearMeasurements()}function vy(e){e.isLayoutDirty=!1}function yy(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function by(e){e.resolveTargetDelta()}function xy(e){e.calcProjection()}function Sy(e){e.resetSkewAndRotation()}function Ey(e){e.removeLeadSnapshot()}function Ty(e,t,n){e.translate=om(t.translate,0,n),e.scale=om(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cy(e,t,n,r){e.min=om(t.min,n.min,r),e.max=om(t.max,n.max,r)}function ky(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const _y={duration:.45,ease:[.4,0,.1,1]},Py=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ay=Py("applewebkit/")&&!Py("chrome/")?Math.round:Jd;function Iy(e){e.min=Ay(e.min),e.max=Ay(e.max)}function Dy(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Yv(t),i=Yv(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function Ny(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Ry=cy({attachResizeListener:(e,t)=>bg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ly={current:void 0},My=cy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ly.current){const e=new Ry({});e.mount(window),e.setOptions({layoutScroll:!0}),Ly.current=e}return Ly.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Oy={pan:{Feature:class extends mg{constructor(){super(...arguments),this.removePointerDownListener=Jd}onPointerDown(e){this.session=new Eg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:mv(e),onStart:mv(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&tf.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=xg(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends mg{constructor(e){super(e),this.removeGroupControls=Jd,this.removeListeners=Jd,this.controls=new fv(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jd}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:My,MeasureLayout:_v}};function Fy(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return xg(e.current,n,((n,i)=>{if("touch"===n.pointerType||Lg())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t);const o=s[r];o&&tf.postRender((()=>o(n,i)))}),{passive:!e.getProps()[r]})}const jy=(e,t)=>!!t&&(e===t||jy(e,t.parentElement));function Vy(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wg(n))}const By=new WeakMap,Uy=new WeakMap,zy=e=>{const t=By.get(e.target);t&&t(e)},$y=e=>{e.forEach(zy)};function Hy(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Uy.has(r)||Uy.set(r,{});const i=Uy.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver($y,{root:t,...n})),i[s]}(t);return By.set(e,n),r.observe(e),()=>{By.delete(e),r.unobserve(e)}}const qy={some:0,all:1};const Wy={inView:{Feature:class extends mg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:qy[r]};return Hy(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends mg{constructor(){super(...arguments),this.removeStartListeners=Jd,this.removeEndListeners=Jd,this.removeAccessibleListeners=Jd,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=xg(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),s=i||jy(this.node.current,e.target)?n:r;s&&tf.update((()=>s(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),i=xg(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=im(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=bg(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=bg(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Vy("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&tf.postRender((()=>n(e,t)))}))})),Vy("down",((e,t)=>{this.startPress(e,t)}))})),t=bg(this.node.current,"blur",(()=>{this.isPressing&&Vy("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=im(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&tf.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Lg()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&tf.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=xg(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=bg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=im(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends mg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ge){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=im(bg(this.node.current,"focus",(()=>this.onFocus())),bg(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends mg{mount(){this.unmount=im(Fy(this.node,!0),Fy(this.node,!1))}unmount(){}}}},Ky={layout:{ProjectionNode:My,MeasureLayout:_v}},Gy=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Qy=(0,i.createContext)({}),Yy="undefined"!==typeof window,Xy=Yy?i.useLayoutEffect:i.useEffect,Jy=(0,i.createContext)({strict:!1});function Zy(e,t,n,r,s){var o,a;const{visualElement:l}=(0,i.useContext)(Qy),u=(0,i.useContext)(Jy),c=(0,i.useContext)(gv),h=(0,i.useContext)(Gy).reducedMotion,d=(0,i.useRef)();r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:h}));const f=d.current,p=(0,i.useContext)(yv);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ew(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&Mg(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}(d.current,n,s,p);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)((()=>{f&&m.current&&f.update(n,c)}));const g=n[Jm],v=(0,i.useRef)(Boolean(g)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return Xy((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Tv.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,i.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function ew(e){if(e)return!1!==e.options.allowProjection?e.projection:ew(e.parent)}function tw(e,t,n){return(0,i.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Mg(n)&&(n.current=r))}),[t])}function nw(e){return Ad(e.animate)||Fd.some((t=>Nd(e[t])))}function rw(e){return Boolean(nw(e)||e.variants)}function iw(e){const{initial:t,animate:n}=function(e,t){if(nw(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Nd(t)?t:void 0,animate:Nd(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Qy));return(0,i.useMemo)((()=>({initial:t,animate:n})),[sw(t),sw(n)])}function sw(e){return Array.isArray(e)?e.join(" "):e}const ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aw={};for(const Wb in ow)aw[Wb]={isEnabled:e=>ow[Wb].some((t=>!!e[t]))};const lw=Symbol.for("motionComponentSymbol");function uw(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)aw[t]={...aw[t],...e[t]}}(t);const a=(0,i.forwardRef)((function(e,t){let a;const l={...(0,i.useContext)(Gy),...e,layoutId:cw(e)},{isStatic:u}=l,c=iw(e),h=s(e,u);if(!u&&Yy){!function(){(0,i.useContext)(Jy).strict;0}();const e=function(e){const{drag:t,layout:n}=aw;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,c.visualElement=Zy(o,h,l,n,e.ProjectionNode)}return(0,$h.jsxs)(Qy.Provider,{value:c,children:[a&&c.visualElement?(0,$h.jsx)(a,{visualElement:c.visualElement,...l}):null,r(o,e,tw(h,c.visualElement,t),h,u,c.visualElement)]})}));return a[lw]=o,a}function cw(e){let{layoutId:t}=e;const n=(0,i.useContext)(vv).id;return n&&void 0!==t?n+"-"+t:t}const hw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dw(e){return"string"===typeof e&&!e.includes("-")&&!!(hw.indexOf(e)>-1||/[A-Z]/u.test(e))}function fw(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const pw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mw(e,t,n,r){fw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(pw.has(i)?i:Xm(i),t.attrs[i])}function gw(e,t){let{layout:n,layoutId:r}=t;return Vd.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Ev[e]||"opacity"===e)}function vw(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(eg(i[o])||t.style&&eg(t.style[o])||gw(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(s[o]=i[o]);return s}function yw(e,t,n){const r=vw(e,t,n);for(const i in e)if(eg(e[i])||eg(t[i])){r[-1!==jd.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const ww=e=>(t,n)=>{const r=(0,i.useContext)(Qy),s=(0,i.useContext)(gv),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:bw(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,s);return n?o():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)};function bw(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=ty(s[d]);let{initial:o,animate:a}=e;const l=nw(e),u=rw(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?a:o;if(h&&"boolean"!==typeof h&&!Ad(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=Ld(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const xw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Sw=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Ew=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Tw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cw=jd.length;function kw(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Vd.has(l))o=!0;else if(Sf(l))i[l]=e;else{const t=Ew(e,_p[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<Cw;s++){const o=jd[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=Ew(a,_p[o]);l||(i=!1,r+=`${Tw[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}function _w(e,t,n){return"string"===typeof e?e:Mf.transform(t+n*e)}const Pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aw={offset:"strokeDashoffset",array:"strokeDasharray"};function Iw(e,t,n,r){let{attrX:i,attrY:s,attrScale:o,originX:a,originY:l,pathLength:u,pathSpacing:c=1,pathOffset:h=0,...d}=t;if(kw(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${_w(t,e.x,e.width)} ${_w(n,e.y,e.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==s&&(f.y=s),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Pw:Aw;e[s.offset]=Mf.transform(-r);const o=Mf.transform(t),a=Mf.transform(n);e[s.array]=`${o} ${a}`}(f,u,c,h,!1)}const Dw=e=>"string"===typeof e&&"svg"===e.toLowerCase(),Nw={useVisualState:ww({scrapeMotionValuesFromProps:yw,createRenderState:Sw,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;tf.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(ge){r.dimensions={x:0,y:0,width:0,height:0}}})),tf.render((()=>{Iw(r,i,Dw(t.tagName),e.transformTemplate),mw(t,r)}))}})},Rw={useVisualState:ww({scrapeMotionValuesFromProps:vw,createRenderState:xw})};function Lw(e,t,n){for(const r in t)eg(t[r])||gw(r,n)||(e[r]=t[r])}function Mw(e,t){const n={};return Lw(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return kw(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Ow(e,t){const n={},r=Mw(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jw(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fw.has(e)}let Vw=e=>!jw(e);try{(Bw=require("@emotion/is-prop-valid").default)&&(Vw=e=>e.startsWith("on")?!jw(e):Bw(e))}catch(qb){}var Bw;function Uw(e,t,n,r){const s=(0,i.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Iw(n,t,Dw(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Lw(t,e.style,e),s.style={...t,...s.style}}return s}function zw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(dw(t)?Uw:Ow)(n,a,o,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Vw(i)||!0===n&&jw(i)||!t&&!jw(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c=t!==i.Fragment?{...u,...l,ref:r}:{},{children:h}=n,d=(0,i.useMemo)((()=>eg(h)?h.get():h),[h]);return(0,i.createElement)(t,{...c,children:d})}}function $w(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return uw({...dw(n)?Nw:Rw,preloadedFeatures:e,useRender:zw(r),createVisualElement:t,Component:n})}}const Hw={current:null},qw={current:!1};const Ww=new WeakMap,Kw=[...Kf,cp,wp],Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qw{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ep,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Op.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,tf.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=nw(n),this.isVariantNode=rw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const e=h[d];void 0!==l[d]&&eg(e)&&e.set(l[d],!1)}}mount(e){this.current=e,Ww.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),qw.current||function(){if(qw.current=!0,Yy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hw.current=e.matches;e.addListener(t),t()}else Hw.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Hw.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ww.delete(this.current),this.projection&&this.projection.unmount(),nf(this.notifyUpdate),nf(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Vd.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&tf.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in aw){const t=aw[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Gw.length;n++){const t=Gw[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(eg(i))e.addValue(r,i);else if(eg(s))e.addValue(r,Qm(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Qm(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Qm(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(bf(r)||vf(r))?r=parseFloat(r):!(e=>Kw.find(Wf(e)))(r)&&wp.test(t)&&(r=Ip(e,t)),this.setBaseTarget(e,eg(r)?r.get():r)),eg(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Ld(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eg(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Wm),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Yw extends Qw{constructor(){super(...arguments),this.KeyframeResolver=Np}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class Xw extends Yw{constructor(){super(...arguments),this.type="html",this.renderInstance=fw}readValueFromInstance(e,t){if(Vd.has(t)){const e=Ap(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Sf(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return cv(e,n)}build(e,t,n){kw(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return vw(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;eg(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Jw extends Yw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kg}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Vd.has(t)){const e=Ap(t);return e&&e.default||0}return t=pw.has(t)?t:Xm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return yw(e,t,n)}build(e,t,n){Iw(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){mw(e,t,0,r)}mount(e){this.isSVGTag=Dw(e.tagName),super.mount(e)}}const Zw=(e,t)=>dw(e)?new Jw(t):new Xw(t,{allowProjection:e!==i.Fragment}),eb=Pd($w({...vg,...Wy,...Oy,...Ky},Zw)),tb={grid:"AnimationGrid_grid__iIxE1",gridCell:"AnimationGrid_gridCell__RnYap",highlight:"AnimationGrid_highlight__iyKDT","frozen-row-0":"AnimationGrid_frozen-row-0__3O+-5","frozen-row-1":"AnimationGrid_frozen-row-1__BhgLa","frozen-row-2":"AnimationGrid_frozen-row-2__rFq2z","frozen-row-3":"AnimationGrid_frozen-row-3__Yh36e"},nb={1:"B",2:"E",3:"A",4:"R",5:"F",6:"I",7:"S",8:"H",9:"N",10:"E",11:"W",12:"T",13:"W",14:"O",15:"L",16:"F"},rb=e=>{let{grid:t,highlight:n,frozenRows:r}=e;return(0,$h.jsx)(eb.div,{className:tb.grid,layout:!0,children:t.map(((e,t)=>e.map(((e,i)=>{const s=n&&("row"===n.type&&n.index===t||"col"===n.type&&n.index===i),o=(e=>r.includes(e))(t)?tb[`frozen-row-${t}`]:"";return(0,$h.jsx)(eb.div,{className:`${tb.gridCell} ${s?tb.highlight:""} ${o}`,layout:!0,transition:{duration:.3},children:nb[e]},`anim-cell-${t}-${i}`)}))))})},ib={flipButton:"HowToPlayFlipButton_flipButton__bX91V",tooltip:"HowToPlayFlipButton_tooltip__8wndC","row-0":"HowToPlayFlipButton_row-0__lAHx+","row-1":"HowToPlayFlipButton_row-1__UsnPY","row-2":"HowToPlayFlipButton_row-2__vHwSN","row-3":"HowToPlayFlipButton_row-3__1a26A","col-0":"HowToPlayFlipButton_col-0__cP9Qc","col-1":"HowToPlayFlipButton_col-1__9-xVD","col-2":"HowToPlayFlipButton_col-2__2x6Mm","col-3":"HowToPlayFlipButton_col-3__rP04f"},sb=()=>{},ob=e=>{let{direction:t,index:n,onClick:r,disabled:i}=e;const s="row"===t?cd:hd,o="row"===t?`Flip Row ${n+1}`:`Flip Column ${n+1}`,a="row"===t?ib[`row-${n}`]:ib[`col-${n}`];return(0,$h.jsxs)("button",{onClick:sb,className:`${ib.flipButton} ${a}`,"aria-label":o,disabled:i,children:[(0,$h.jsx)(s,{size:16}),(0,$h.jsx)("span",{className:ib.tooltip,children:o})]})},ab="HandIcon_handIcon__AXFkD",lb=e=>{let{position:t,color:n}=e;return(0,$h.jsx)(eb.div,{className:ab,animate:{top:t.top,left:t.left,color:n},transition:{duration:.5,ease:"easeInOut"},children:(0,$h.jsx)(dd,{size:24,color:n})})},ub={modalOverlay:"HowToPlayAnimationModal_modalOverlay__mg3wR",modalContent:"HowToPlayAnimationModal_modalContent__jp-oY",closeButton:"HowToPlayAnimationModal_closeButton__ydvTN",modalTitle:"HowToPlayAnimationModal_modalTitle__yliFv",instructions:"HowToPlayAnimationModal_instructions__QAm0i",instructionText:"HowToPlayAnimationModal_instructionText__yDnnu",animationContainer:"HowToPlayAnimationModal_animationContainer__rEaFM",modalBody:"HowToPlayAnimationModal_modalBody__EtCUv",headerSpacer:"HowToPlayAnimationModal_headerSpacer__21vwf",navigation:"HowToPlayAnimationModal_navigation__nsDdC",navButton:"HowToPlayAnimationModal_navButton__psxtl",navigationDots:"HowToPlayAnimationModal_navigationDots__544qD",dot:"HowToPlayAnimationModal_dot__P-1M7",active:"HowToPlayAnimationModal_active__5KG--"},cb=20,hb=12,db=(e,t)=>"row"===e?{top:cb+44*t+20-16,left:-40}:{top:-40,left:cb+44*t+20-16},fb=e=>({top:cb+44*e+20-hb,left:94}),pb=e=>({top:94,left:cb+44*e+20-hb}),mb=[[6,2,9,12],[16,1,7,8],[3,10,11,4],[13,14,15,5]],gb=[[6,2,9,12],[16,1,7,8],[3,10,11,4],[13,14,15,5]],vb=[[4,3,2,1],[8,7,6,5],[12,11,10,9],[16,15,14,13]],yb=[[15,10,11,8],[3,2,1,4],[7,14,5,16],[13,6,9,12]],wb=e=>{let{onClose:t}=e;const[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(mb),[a,l]=(0,i.useState)({top:0,left:0}),[u,c]=(0,i.useState)(null),[h,d]=(0,i.useState)("#6b7280"),[f,p]=(0,i.useState)([]),m=(0,i.useCallback)((e=>{f.includes(e)||o((t=>{const n=[...t];return n[e]=[...n[e]].reverse(),n}))}),[f]),g=(0,i.useCallback)((e=>{o((t=>{const n=t.map((e=>[...e])),r=n.map(((e,t)=>t)).filter((e=>!f.includes(e))),i=[...r.map((t=>n[t][e]))].reverse();return r.forEach(((t,r)=>{n[t][e]=i[r]})),n}))}),[f]),v=(0,i.useCallback)(((e,t)=>{f.includes(e)||f.includes(t)||o((n=>{const r=[...n];return[r[e],r[t]]=[r[t],r[e]],r}))}),[f]),y=(0,i.useCallback)(((e,t)=>{o((n=>{const r=n.map((e=>[...e]));return r.forEach(((n,r)=>{f.includes(r)||([n[e],n[t]]=[n[t],n[e]])})),r}))}),[f]),w=(0,i.useCallback)((()=>{n<4&&r((e=>e+1))}),[n]),b=(0,i.useCallback)((()=>{n>0&&r((e=>e-1))}),[n]);return(0,i.useEffect)((()=>{switch(n){case 1:o(yb),p([]);break;case 2:default:o(mb),p([]);break;case 3:o(gb),p([]);break;case 4:o(vb),p([])}}),[n]),(0,i.useEffect)((()=>{if(1===n)l(fb(0)),d("#6b7280"),c(null);else if(2===n){const e=db("row",2);l(e),d("#6b7280"),c(null)}else if(3===n){const e=db("row",1);l(e),d("#6b7280"),c(null)}else l({top:0,left:0}),d("#6b7280"),c(null)}),[n]),(0,$h.jsx)("div",{className:ub.modalOverlay,children:(0,$h.jsxs)("div",{className:ub.modalContent,children:[(0,$h.jsx)("button",{onClick:t,className:ub.closeButton,"aria-label":"Close",children:(0,$h.jsx)(fd,{size:20})}),(0,$h.jsx)("h2",{className:ub.modalTitle,children:"How to Play"}),(0,$h.jsxs)("div",{className:ub.modalBody,children:[0===n&&(0,$h.jsx)(wd,{}),1===n&&(0,$h.jsx)(Ed,{grid:s,highlight:u,handPosition:a,handColor:h,onFlipRow:m,onFlipCol:g,onSwapRows:v,onSwapColumns:y,setHandColor:d,setHandPosition:l,setHighlight:c,frozenRows:f,setFrozenRows:p,setGrid:o}),2===n&&(0,$h.jsx)(bd,{grid:s,highlight:u,handPosition:a,handColor:h,onFlipRow:m,onFlipCol:g,onSwapRows:v,onSwapColumns:y,setHandColor:d,setHandPosition:l,setHighlight:c,setGrid:o,setFrozenRows:p}),3===n&&(0,$h.jsx)(xd,{grid:s,highlight:u,handPosition:a,handColor:h,onFlipRow:m,onFlipCol:g,setHandColor:d,setHandPosition:l,setHighlight:c,setGrid:o,setFrozenRows:p}),4===n&&(0,$h.jsx)(Sd,{grid:s,highlight:u,handPosition:a,handColor:h,onFlipRow:m,onFlipCol:g,setHandColor:d,setHandPosition:l,setHighlight:c,frozenRows:f,setFrozenRows:p,setGrid:o})]}),n>0&&(0,$h.jsx)("div",{className:ub.animationContainer,children:(0,$h.jsxs)("div",{className:ub.gridWrapper,children:[Array.from({length:4}).map(((e,t)=>(0,$h.jsx)(ob,{direction:"row",index:t,onClick:()=>m(t),disabled:f.includes(t)},`flip-row-${t}`))),Array.from({length:4}).map(((e,t)=>(0,$h.jsx)(ob,{direction:"col",index:t,onClick:()=>g(t),disabled:!1},`flip-col-${t}`))),(0,$h.jsx)(rb,{grid:s,highlight:u,frozenRows:f}),(0,$h.jsx)(lb,{position:a,color:h})]})}),(0,$h.jsxs)("div",{className:ub.navigation,children:[(0,$h.jsx)("button",{onClick:b,className:ub.navButton,disabled:0===n,"aria-label":"Previous Screen",children:(0,$h.jsx)(ld,{size:16})}),(0,$h.jsx)(_d,{total:5,current:n})," ",(0,$h.jsx)("button",{onClick:w,className:ub.navButton,disabled:4===n,"aria-label":"Next Screen",children:(0,$h.jsx)(ud,{size:16})})]})]})})},bb=e=>{let{direction:t,onClick:n,disabled:r=!1,className:i}=e;const s="row"===t?cd:hd;return(0,$h.jsxs)("button",{onClick:n,disabled:r,className:`\n        relative \n        bg-transparent \n        ${r?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700"} \n        p-1 \n        ${i}\n      `,"aria-label":"Flip "+("row"===t?"Row":"Column"),children:[(0,$h.jsx)(s,{size:16}),(0,$h.jsx)("span",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 px-2 py-1 text-xs text-white bg-black rounded opacity-0 hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:r?"Row locked":"Flip "+("row"===t?"Row":"Column")})]})},xb=e=>{let{easyMode:t,setEasyMode:n}=e;return(0,$h.jsx)("div",{className:"flex items-center gap-2",children:(0,$h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$h.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,$h.jsx)("input",{type:"checkbox",checked:t,onChange:e=>n(e.target.checked),className:"sr-only peer"}),(0,$h.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),(0,$h.jsx)("span",{className:"text-sm font-medium",children:"Easy Mode"})]})})},Sb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tb=(0,i.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:u,...c}=e;return(0,i.createElement)("svg",{ref:t,...Eb,width:r,height:r,stroke:n,strokeWidth:o?24*Number(s)/Number(r):s,className:Sb("lucide",a),...c},[...u.map((e=>{let[t,n]=e;return(0,i.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),Cb=(e,t)=>{const n=(0,i.forwardRef)(((n,r)=>{let{className:s,...o}=n;return(0,i.createElement)(Tb,{ref:r,iconNode:t,className:Sb(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...o});var a}));return n.displayName=`${e}`,n},kb=Cb("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),_b=Cb("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pb=e=>{let{branchId:t,onClose:n}=e;const r=Gc(),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{try{const e=qc(r,"scores",t),n=await Nh(e);if(n.exists()){let e=n.data().scores||[];e.sort(((e,t)=>e.moves-t.moves));const t=[],r=new Set;for(const n of e)r.has(n.nickname)||(t.push(n),r.add(n.nickname));o(t)}else o([])}catch(e){console.error("Error fetching leaderboard:",e),pt.error("Failed to load leaderboard")}finally{l(!1)}})()}),[t,r]);return(0,$h.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,$h.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg relative",children:[(0,$h.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,$h.jsx)(_b,{className:"w-5 h-5"})}),(0,$h.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Leaderboard"}),a?(0,$h.jsx)("div",{className:"text-center",children:"Loading..."}):0===s.length?(0,$h.jsx)("div",{className:"text-center text-gray-600",children:"No scores yet for this branch!"}):(0,$h.jsxs)($h.Fragment,{children:[s.length>=1&&(()=>{const e=s.slice(0,3);return(0,$h.jsx)("div",{className:"flex justify-center space-x-4 mb-6",children:e.map(((e,t)=>(0,$h.jsxs)("div",{className:"flex flex-col items-center bg-yellow-100 p-4 rounded-lg shadow-md",children:[(0,$h.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-300 rounded-full mb-2",children:(0,$h.jsx)(kb,{className:"w-6 h-6 text-yellow-800"})}),(0,$h.jsx)("span",{className:"text-lg font-semibold",children:t+1}),(0,$h.jsx)("span",{className:"text-md",children:e.nickname}),(0,$h.jsxs)("span",{className:"text-sm text-gray-600",children:["Moves: ",e.moves]})]},e.nickname)))})})(),(0,$h.jsxs)("div",{className:"mt-4",children:[(0,$h.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Other Players"}),s.length>3?(0,$h.jsx)("ul",{className:"space-y-2",children:s.slice(3).map(((e,t)=>(0,$h.jsxs)("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md shadow-sm",children:[(0,$h.jsxs)("span",{className:"text-gray-800",children:[t+4,". ",e.nickname]}),(0,$h.jsxs)("span",{className:"text-blue-500 font-semibold",children:[e.moves," moves"]})]},e.nickname)))}):(0,$h.jsx)("div",{className:"text-center text-gray-600",children:"No other scores yet."})]})]}),(0,$h.jsx)("button",{onClick:n,className:"mt-6 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 focus:outline-none",children:"Close"})]})})},Ab=e=>{let{tooltipText:t,ariaLabel:n="Information"}=e;return(0,$h.jsxs)("div",{className:"relative group",children:[(0,$h.jsx)("button",{type:"button",className:"p-1 text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-full","aria-label":n,children:(0,$h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[(0,$h.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,$h.jsx)("path",{d:"M12 16v-4"}),(0,$h.jsx)("path",{d:"M12 8h.01"})]})}),(0,$h.jsx)("div",{className:"absolute hidden group-hover:block bottom-full right-0 mb-2 mr-1",children:(0,$h.jsx)("div",{className:"bg-black text-white text-xs rounded px-2 py-1 w-48 whitespace-normal",children:t})})]})},Ib="easyMode",Db=e=>{var t,n,r,s,o;let{grid:a,frozenRows:l,solvedRowsOrder:u,moveCount:c,showInstructions:h,onShowInstructions:d,onCloseInstructions:f,onFlip:p,setGrid:m,setMoveCount:g,showWinModal:v,onCloseWinModal:y,solution:w,currentBranch:b}=e;const[x,S]=(0,i.useState)((()=>{const e=localStorage.getItem(Ib);return!e||JSON.parse(e)})),[E,T]=(0,i.useState)(0),[C,k]=(0,i.useState)(window.innerWidth<768),_=64,P=100,A=(0,i.useRef)(null),[I,D]=(0,i.useState)(P),[N,R]=(0,i.useState)(new Set),[L,M]=(0,i.useState)(new Set),{handleDragStart:O,dragState:F}=Yh(a,l,m,g,I,I,A,2),[j,V]=(0,i.useState)(!1);(0,i.useEffect)((()=>{localStorage.setItem(Ib,JSON.stringify(x))}),[x]),(0,i.useEffect)((()=>{const e=()=>{const e=window.innerHeight,t=window.innerWidth;k(t<768);const n=t<768?280:400,r=t<768?80:160,i=(t-2*(t<768?8:32))/(n+60),s=(e-(t<768?16:60)-r)/(n+60),o=Math.min(i,s,1);D((t<768?_:P)*o),T(r*o)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const B=(e,t)=>{p(e,t),"row"===t?(R((t=>{const n=new Set(t);return n.add(e),n})),setTimeout((()=>{R((t=>{const n=new Set(t);return n.delete(e),n}))}),600)):(M((t=>{const n=new Set(t);return n.add(e),n})),setTimeout((()=>{M((t=>{const n=new Set(t);return n.delete(e),n}))}),600))};return(0,$h.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen w-full md:px-8",children:[(0,$h.jsx)("div",{style:{height:E},className:"w-full flex justify-center mb-8 md:mb-24",children:(0,$h.jsx)(Hh,{theme:zh,onShowInstructions:d})}),(0,$h.jsx)("div",{className:"relative mt-32 md:mt-8 flex flex-col items-center justify-center",children:(0,$h.jsxs)("div",{className:"relative",children:[(0,$h.jsx)("div",{className:"absolute -top-6 left-0 right-0 grid",style:{gridTemplateColumns:`repeat(${null!==(t=null===(n=a[0])||void 0===n?void 0:n.length)&&void 0!==t?t:0}, ${I}px)`,gap:"2px"},children:null===(r=a[0])||void 0===r?void 0:r.map(((e,t)=>(0,$h.jsx)("div",{className:"flex justify-center",children:(0,$h.jsx)(bb,{direction:"col",onClick:()=>B(t,"col"),disabled:!1})},`col-flip-${t}`)))}),(0,$h.jsx)("div",{className:"absolute -left-6 top-0 bottom-0 flex flex-col",style:{gap:"2px"},children:a.map(((e,t)=>(0,$h.jsx)("div",{className:"flex items-center",style:{height:I},children:(0,$h.jsx)(bb,{direction:"row",onClick:()=>B(t,"row"),disabled:l.has(t)})},`row-flip-${t}`)))}),(0,$h.jsx)("div",{ref:A,className:"grid",style:{gridTemplateColumns:`repeat(${null!==(s=null===(o=a[0])||void 0===o?void 0:o.length)&&void 0!==s?s:0}, ${I}px)`,gridTemplateRows:`repeat(${a.length}, ${I}px)`,gap:"2px",position:"relative",perspective:"1000px"},onMouseMove:e=>{F.isDragging&&e.preventDefault()},onTouchMove:e=>{F.isDragging&&e.preventDefault()},children:a.map(((e,t)=>e.map(((e,n)=>{const r=N.has(t)||L.has(n),i=N.has(t)?"row":L.has(n)?"col":void 0,s=((e,t)=>{const{isDragging:n,direction:r,dragOffset:i,sourceRow:s,sourceCol:o,targetIndex:a}=F;if(!n||void 0===a)return{};const u=I+2;let c="",h=0,d=n?"none":"transform 0.2s ease-out";if(l.has(e))return{};if("vertical"===r&&null!==s&&null!==a){if(l.has(s)||l.has(a))return{};e===s?(c=`translateY(${i.y}px)`,h=10):e===a&&null!==s&&(c=`translateY(${(s-a)*u}px)`,h=5)}else if("horizontal"===r&&void 0!==o&&void 0!==a){if(l.has(e))return{};t===o?(c=`translateX(${i.x}px)`,h=10):t===a&&null!==o&&(c=`translateX(${(o-a)*u}px)`,h=5)}return{transform:c,zIndex:h,...c?{transition:d,willChange:n?"transform":"auto"}:{}}})(t,n);return(0,$h.jsx)("div",{style:{width:I,height:I,position:"relative",...s},children:(0,$h.jsx)(Kh,{num:e,rowIndex:t,colIndex:n,isFrozen:l.has(t),isFrozenRow:l.has(t),isFirstRow:0===t,isFirstCol:0===n,onFlip:B,onDragStart:O,dragState:F,isFlipping:r,flipType:i,currentGrid:a,solution:w,easyMode:x})},`cell-${t}-${n}`)}))))})]})}),(0,$h.jsxs)("div",{className:"mt-4 flex flex-row items-center gap-6 mt-6 md:mt-6 justify-center w-full",children:[(0,$h.jsx)("div",{className:"flex items-center",children:(0,$h.jsx)(Qh,{moveCount:c,completedRows:l.size})}),(0,$h.jsx)("div",{className:"h-8 w-px bg-gray-300 dark:bg-gray-700"}),(0,$h.jsxs)("div",{className:"flex flex-col items-center",children:[(0,$h.jsxs)("div",{className:"flex items-center",children:[(0,$h.jsx)(xb,{easyMode:x,setEasyMode:S}),(0,$h.jsx)(Ab,{tooltipText:"When easy mode is on, words that are correct but in the wrong row will turn gray!",ariaLabel:"Easy mode information"})]}),b&&(0,$h.jsxs)("div",{className:"flex items-center mt-2",children:[(0,$h.jsx)("button",{onClick:()=>V(!0),className:"text-blue-500 hover:text-blue-600",children:"Room Leaderboard"}),(0,$h.jsx)(Ab,{tooltipText:"View the leaderboard to see top players in your room (not globally)!",ariaLabel:"Leaderboard information"})]})]})]}),h&&(0,$h.jsx)(wb,{onClose:f}),j&&b&&(0,$h.jsx)(Pb,{branchId:b,onClose:()=>V(!1)})]})},Nb=Cb("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Rb=()=>{const[e,t]=(0,i.useState)("");return(0,i.useEffect)((()=>{const e=()=>{const e=new Date,t=new Date;e.getHours()>=9&&t.setDate(t.getDate()+1),t.setHours(12,0,0,0);const n=t.getTime()-e.getTime(),r=Math.floor(n/36e5),i=Math.floor(n%36e5/6e4),s=Math.floor(n%6e4/1e3);return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};t(e());const n=setInterval((()=>{t(e())}),1e3);return()=>clearInterval(n)}),[]),(0,$h.jsxs)("div",{className:"mt-6 flex items-center justify-center gap-2 rounded-lg p-4",children:[(0,$h.jsx)(Nb,{className:"h-4 w-4 text-slate-600"}),(0,$h.jsx)("span",{className:"text-sm text-slate-600",children:"Next Flip in"}),(0,$h.jsx)("span",{className:"font-mono text-lg font-semibold text-slate-800",children:e})]})},Lb=Cb("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),Mb="playerNickname",Ob="activeBranch",Fb=e=>{let{onClose:t,solvedRowsHistory:n,currentBranch:r,onSubmitScoreToBranch:s}=e;const[o,a]=(0,i.useState)(""),[l,u]=(0,i.useState)(!1),[c,h]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=localStorage.getItem(Mb);e&&a(e)}),[]),(0,i.useEffect)((()=>{localStorage.setItem(Mb,o)}),[o]);const d=Math.max(...Object.values(n)),f={0:"\ud83d\udfe8\ud83d\udfe8\ud83d\udfe8\ud83d\udfe8",1:"\ud83d\udfe7\ud83d\udfe7\ud83d\udfe7\ud83d\udfe7",2:"\ud83d\udfe9\ud83d\udfe9\ud83d\udfe9\ud83d\udfe9",3:"\ud83d\udfea\ud83d\udfea\ud83d\udfea\ud83d\udfea"},p=Object.entries(n).map((e=>{let[t,n]=e;return{emoji:f[parseInt(t,10)]||"\u2b1c",count:n}})),m=p.map((e=>`${e.emoji} ${e.count}`)).join("\n"),g="undefined"!==typeof navigator&&navigator.share&&"function"===typeof navigator.share;return(0,$h.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,$h.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80",children:[(0,$h.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"You Win!"}),(0,$h.jsx)("div",{className:"mb-4 grid grid-cols-[auto,1fr] gap-x-1 justify-items-start w-fit mx-auto",children:p.map(((e,t)=>(0,$h.jsxs)(i.Fragment,{children:[(0,$h.jsx)("div",{className:"whitespace-pre",children:e.emoji}),(0,$h.jsx)("div",{className:"text-left",children:e.count})]},t)))}),(0,$h.jsxs)("p",{className:"text-center mb-4",children:["Total Moves: ",(0,$h.jsx)("span",{className:"font-semibold",children:d})]}),(0,$h.jsx)(Rb,{}),(0,$h.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,$h.jsx)("label",{htmlFor:"nickname",className:"mb-1 font-semibold",children:"Nickname"}),(0,$h.jsx)("input",{id:"nickname",className:"border rounded px-2 py-1",value:o,onChange:e=>a(e.target.value),placeholder:"Enter your nickname"})]}),(0,$h.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$h.jsx)("input",{id:"createBranch",type:"checkbox",checked:l,onChange:()=>u(!l),className:"mr-2"}),(0,$h.jsx)("label",{htmlFor:"createBranch",className:"font-semibold",children:"Create New Group"}),(0,$h.jsx)(Ab,{tooltipText:"Creates a new link you can send to people whose scores you want to see! Otherwise, Flip will share the link you are currently using!",ariaLabel:"Leaderboard information"})]}),(0,$h.jsxs)("div",{className:"flex justify-center space-x-4 mt-6",children:[(0,$h.jsxs)("button",{onClick:async()=>{let e=null;if(l){let t=c.trim();t||(t=Math.random().toString(36).slice(2,10)),o&&999!==d&&(await s(t,o,d),localStorage.setItem(Ob,t),e=jh+`/#/${t}`)}else e=r?jh+`/#/${r}`:jh;const t=`Flip #103${(n=e)?`\n${n}\n`:""}\nDaily @ 12 pm ET!\nTheme: ${zh}\nTotal Moves: ${d}\n\n${m}`;var n;try{await navigator.clipboard.writeText(t),pt.success("Copied to clipboard!")}catch(i){console.error("Failed to copy:",i)}if(g)try{await navigator.share({title:"My Flip Results",text:t})}catch(i){console.error("Error sharing:",i)}},className:"inline-flex items-center gap-2 text-blue-500 hover:underline focus:outline-none",children:[(0,$h.jsx)(Lb,{className:"w-4 h-4"}),g?"Share results":"Copy results"]}),(0,$h.jsx)("button",{onClick:async()=>{localStorage.setItem("pendingScore",`${d}`),!l&&r&&o&&999!==d&&(await s(r,o,d),localStorage.setItem(Ob,r)),t()},className:"text-blue-500 hover:underline focus:outline-none",children:"Close"})]})]})})},jb="gameState",Vb="howToPlaySeen",Bb="gameNumber",Ub="activeBranch",zb=()=>{const{branchId:e}=function(){let{matches:e}=i.useContext(q),t=e[e.length-1];return t?t.params:{}}(),t=Gc(),n=localStorage.getItem(Ub)||"",r=e||n;(0,i.useEffect)((()=>{e&&localStorage.setItem(Ub,e)}),[e]);const s=(()=>{if(localStorage.getItem(Bb)!==103..toString())return localStorage.removeItem(jb),localStorage.removeItem(Vb),localStorage.setItem(Bb,103..toString()),null;const e=localStorage.getItem(jb);if(e)try{return JSON.parse(e)}catch(t){return console.error("Error parsing saved game state:",t),null}return null})(),[o,a]=(0,i.useState)((()=>(null===s||void 0===s?void 0:s.grid)||Uh)),[l,u]=(0,i.useState)((()=>(null===s||void 0===s?void 0:s.moveCount)||0)),[c,h]=(0,i.useState)((()=>new Set((null===s||void 0===s?void 0:s.frozenRows)||[]))),[d,f]=(0,i.useState)((()=>{const e=new Map;return null===s||void 0===s||s.solvedRowsOrder.forEach((t=>{let[n,r]=t;return e.set(n,r)})),e})),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!1),[y,w]=(0,i.useState)((()=>(null===s||void 0===s?void 0:s.solvedRowsHistory)||{})),[b,x]=(0,i.useState)(!1),{handleFlip:S}=((e,t,n,r)=>{const s=(0,i.useCallback)(((i,s)=>{if("row"===s){if(t.has(i))return;const s=[...e];s[i]=[...s[i]].reverse(),n(s),r((e=>e+1))}else if("col"===s){const s=e.map((e=>[...e])),o=s.map(((e,t)=>t)).filter((e=>!t.has(e))),a=o.map((e=>s[e][i])).reverse();o.forEach(((e,t)=>{s[e][i]=a[t]})),n(s),r((e=>e+1))}}),[e,t,n,r]);return{handleFlip:s}})(o,c,a,u);(0,i.useEffect)((()=>{const e={grid:o,moveCount:l,frozenRows:Array.from(c),solvedRowsOrder:Array.from(d.entries()),solvedRowsHistory:y};localStorage.setItem(jb,JSON.stringify(e))}),[o,l,c,d,y]),(0,i.useEffect)((()=>{h((e=>{const t=new Set;return o.forEach(((n,r)=>{const i=Vh[r],s=n.every(((e,t)=>Bh[e]===Bh[i[t]]));s&&(t.add(r),e.has(r)||(w((e=>({...e,[r]:l}))),f((e=>new Map(e).set(r,l)))))})),t}))}),[o,l]),(0,i.useEffect)((()=>{c.size===o.length&&Object.keys(y).length>0&&(v(!0),localStorage.setItem("pendingScore",l.toString()))}),[c,y,o.length,l]),(0,i.useEffect)((()=>{localStorage.getItem(Vb)||(x(!0),localStorage.setItem(Vb,"true"))}),[]);return(0,$h.jsxs)($h.Fragment,{children:[(0,$h.jsx)("div",{className:"flex flex-col items-center gap-4",children:(0,$h.jsx)(Db,{grid:o,frozenRows:c,solvedRowsOrder:d,moveCount:l,showInstructions:p,onShowInstructions:()=>m(!0),onCloseInstructions:()=>m(!1),onFlip:S,setGrid:a,setMoveCount:u,showWinModal:g,onCloseWinModal:()=>v(!1),solution:Vh,currentBranch:r||void 0})}),g&&(0,$h.jsx)(Fb,{onClose:()=>v(!1),solvedRowsHistory:y,currentBranch:r||void 0,onSubmitScoreToBranch:async(e,n,r)=>{if(!e)return;const i=qc(t,"scores",e);(await Nh(i)).exists()?await function(e,t,n){e=jc(e,$c);const r=jc(e.firestore,Kc),i=lh(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Rt(t))||t instanceof Jc?ph(i,"updateDoc",e._key,t,n,a):fh(i,"updateDoc",e._key,t),Mh(r,[s.toMutation(e._key,Io.exists(!0))])}(i,{scores:Fh({nickname:n,moves:r,date:(new Date).toISOString()})}):await Lh(i,{scores:[{nickname:n,moves:r,date:(new Date).toISOString()}]})}}),b&&(0,$h.jsx)(wb,{onClose:()=>x(!1)})]})};Qn("firebase","11.0.2","app");Gn({apiKey:"AIzaSyD6unlZrDnZkFD0CgxwqRKDy87HuM9d1EI",authDomain:"flip-ebe90.firebaseapp.com",projectId:"flip-ebe90",storageBucket:"flip-ebe90.firebasestorage.app",messagingSenderId:"951306577173",appId:"1:951306577173:web:82dce3e4265408eef8b51c"});const $b=function(){return(0,$h.jsx)(fe,{children:(0,$h.jsxs)("div",{className:"min-h-screen flex items-center justify-center font-sans",style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:[(0,$h.jsx)(ce,{children:(0,$h.jsx)(le,{path:"/:branchId?",element:(0,$h.jsx)(zb,{})})}),(0,$h.jsx)(ft,{})]})})},Hb=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,$h.jsx)(i.StrictMode,{children:(0,$h.jsx)($b,{})})),Hb()})();
//# sourceMappingURL=main.139344bd.js.map